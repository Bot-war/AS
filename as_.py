import base64
exec(base64.b64decode('I1RFUklNQSBLQVNJSCBBVEFTIEhVSkFUQU4gS0FMSUFODQojVEVSSU1BS0FTSUggSlVHQSBZQU5HIFVEQUggU0FSS0FTSU4gU0FZQQ0KI05VTkdLSU4gU0FZQSBURVJBS0hJUiBLQUxJIE5ZQSBVUCBTQyBJTkkNCiNURVJJTUFLQVNJSCBTRU1VQSBOWUENCiNLQUxPIFRJREFLIEFEQSBIQVNJTCBNQUlOSU4gVUEgU0FKQfCfmYMNCiMjIy0tLS0tLS0tLS1bIElNUE9SVCBNT0RVTEUgQU5EIElOR1JFRElFTlQgXS0tLS0tLS0tLS0gIyMjDQppbXBvcnQgcmVxdWVzdHMsanNvbixvcyxzeXMscmFuZG9tLHRpbWUscmUsdXVpZCx6bGliLHN1YnByb2Nlc3MsYmFzZTY0DQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRyZWQNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHBhcnNlcg0KZnJvbSB0aW1lIGltcG9ydCB0aW1lIGFzIHRvZA0KZnJvbSByZXF1ZXN0cy5leGNlcHRpb25zIGltcG9ydCBDb25uZWN0aW9uRXJyb3INCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lDQpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgc2lzDQpmcm9tIHRpbWUgaW1wb3J0IHRpbWUgYXMgdGltDQpzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCg0KIyMjLS0tLS0tLS0tLVsgSU1QT1JUIFJJQ0ggQU5EIElOR1JFRElFTlQgXS0tLS0tLS0tLS0gIyMjDQpmcm9tIHJpY2gucGFuZWwgaW1wb3J0IFBhbmVsDQpmcm9tIHJpY2gudHJlZSBpbXBvcnQgVHJlZQ0KZnJvbSByaWNoIGltcG9ydCBwcmludCBhcyBNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcNCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBDb25zb2xlDQpmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlDQpmcm9tIHJpY2guY29sdW1ucyBpbXBvcnQgQ29sdW1ucw0KZnJvbSByaWNoLnByb2dyZXNzIGltcG9ydCBQcm9ncmVzcyxTcGlubmVyQ29sdW1uLEJhckNvbHVtbixUZXh0Q29sdW1uLFRpbWVFbGFwc2VkQ29sdW1uDQpjb25zb2xlID0gQ29uc29sZSgpDQoNCiMjIy0tLS0tLS0tLS1bIFdBUk5BIFBSSU5UIEJJQVNBIF0tLS0tLS0tLS0tICMjIw0KUCA9ICdceDFiWzE7OTdtJyAjIFBVVElIDQpNID0gJ1x4MWJbMTs5MW0nICMgTUVSQUgNCkggPSAnXHgxYlsxOzkybScgIyBISUpBVQ0KSyA9ICdceDFiWzE7OTNtJyAjIEtVTklORw0KQiA9ICdceDFiWzE7OTRtJyAjIEJJUlUNClUgPSAnXHgxYlsxOzk1bScgIyBVTkdVDQpPID0gJ1x4MWJbMTs5Nm0nICMgQklSVSBNVURBDQpOID0gJ1x4MWJbMG0nCSMgV0FSTkEgTUFUSQ0KDQojIyMtLS0tLS0tLS0tWyBXQVJOQSBQUklOVCBSSUNIIF0tLS0tLS0tLS0tICMjIw0KWjIgPSAiWyMwMDAwMDBdIiAjIEhJVEFNDQpNMiA9ICJbI0ZGMDAwMF0iICMgTUVSQUgNCkgyID0gIlsjMDBGRjAwXSIgIyBISUpBVQ0KSzIgPSAiWyNGRkZGMDBdIiAjIEtVTklORw0KQjIgPSAiWyMwMEM4RkZdIiAjIEJJUlUNClUyID0gIlsjQUYwMEZGXSIgIyBVTkdVDQpOMiA9ICJbI0ZGMDBGRl0iICMgUElOSw0KTzIgPSAiWyMwMEZGRkZdIiAjIEJJUlUgTVVEQQ0KUDIgPSAiWyNGRkZGRkZdIiAjIFBVVElIDQpKMiA9ICJbI0ZGOEYwMF0iICMgSklOR0dBDQpBMiA9ICJbI0FBQUFBQV0iICMgQUJVLUFCVQ0KUlcgPSBzdHIocmFuZG9tLmNob2ljZShbTTIsIEgyLCBLMiwgQjIsIFUyLCBOMiwgTzIsIEoyLCBBMl0pKQ0KDQojIyMtLS0tLS0tLS0tWyBHTE9CQUwgTkFNQSBdLS0tLS0tLS0tLSAjIyMNCnJlc2V0ID0gIlsvXSINCmxvb3AgPSAwDQpvayA9IDANCmNwID0gMA0KaWQgPSBbXQ0KaWQyID0gW10NCmFrdW4gPSBbXQ0Kb3ByZWsgPSBbXQ0KbWV0aG9kID0gW10NCnRhcGxpa2FzaSA9IFtdDQp0b2tlbmt1ID0gW10NCnVpZCA9IFtdDQpjb2ticnV0ID0gW10NCmR1bXAgPSBbXQ0KdWFkaWEsIHVhZGFyaW11ID0gW10sIFtdDQp1Z2VudD0gW10NCnB3bGlzdCwgcHdsaXMgPSBbXSwgW10NCnB3cGx1c3MsIHB3bnlhID0gW10sIFtdDQp1Z2VudCA9IFtdDQp1YXNtLCB1YU1haW5YRCwgcHJveCA9IFtdLCBbXSwgW10NCnN5cy5zdGRvdXQud3JpdGUoJ1x4MWJdMjsgTUJGIHwgTmF6cmkgTXVsdGkgQnJ1dGUgRmFjZWJvb2tceDA3JykNCmZia3M9KCdjb20uZmFjZWJvb2suYWRzbWFuYWdlcicsJ2NvbS5mYWNlYm9vay5saXRlJywnY29tLmZhY2Vib29rLm9yY2EnLCdjb20uZmFjZWJvb2sua2F0YW5hJywnY29tLmZhY2Vib29rLm1saXRlJykNCg0KIyMjLS0tLS0tLS0tLVsgR0VUIERBVEEgREFSSSBERVZJQ0UgXS0tLS0tLS0tLS0gIyMjDQphbmRyb2lkX3ZlcnNpb24gPSBzdWJwcm9jZXNzLmNoZWNrX291dHB1dCgiZ2V0cHJvcCByby5idWlsZC52ZXJzaW9uLnJlbGVhc2UiLHNoZWxsPVRydWUpLmRlY29kZSgidXRmLTgiKS5yZXBsYWNlKCJcbiIsIiIpDQp0cnk6c2ltY2FyZCA9IHN1YnByb2Nlc3MuY2hlY2tfb3V0cHV0KCJnZXRwcm9wIGdzbS5vcGVyYXRvci5hbHBoYSIsc2hlbGw9VHJ1ZSkuZGVjb2RlKCJ1dGYtOCIpLnNwbGl0KCIsIilbMV0ucmVwbGFjZSgiXG4iLCIiKQ0KZXhjZXB0OnNpbWNhcmQgPSBzdWJwcm9jZXNzLmNoZWNrX291dHB1dCgiZ2V0cHJvcCBnc20ub3BlcmF0b3IuYWxwaGEiLHNoZWxsPVRydWUpLmRlY29kZSgidXRmLTgiKS5zcGxpdCgiLCIpWzBdLnJlcGxhY2UoIlxuIiwiIikNCnZlcnNpX2FwcCA9IHN0cihyYW5kb20ucmFuZGludCgxMTExMTExMTEsOTk5OTk5OTk5KSkNCg0KIyMjLS0tLS0tLS0tLVsgR0VORVJBVEUgVVNFUkFHRU5UIF0tLS0tLS0tLS0tICMjIw0KZGVmIHVhX2tyZWsoKToNCiAgICAgICAgcnIgPSByYW5kb20ucmFuZGludA0KICAgICAgICBtb2RlbCA9IHJhbmRvbS5jaG9pY2UoWydSTVgzMjg2JywnUk1YMzQ5MSddKQ0KICAgICAgICB1YSA9IChmIkRhbHZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQge3N0cihycig5LDEzKSl9OyBWaXNpb24zIEJ1aWxkL01SQTU4SykgW0ZCQU4vTWVzc2VuZ2VyTGl0ZTtGQkFWL3tzdHIocnIoNDAsMzc1KSl9LjMwOS4wLjAuOC42MTtGQlBOL2NvbS5mYWNlYm9vay5tbGl0ZTtGQkxDL2VuX0dCO0ZCQlYvNDM0NjQ3NTY1O0ZCQ1IvQVhJUztGQk1GL1Zpc2lvbjtGQkJEL1Zpc2lvbjtGQkRWL1Zpc2lvbjM7RkJTVi97c3RyKHJyKDksMTMpKX07RkJDQS9hcm02NC12OGE6bnVsbDtGQkRNLyIrIntkZW5zaXR5PTIuNTQzNzUsd2lkdGg9NzIwLGhlaWdodD0xNjAwfTtdIikNCiAgICAgICAgcmV0dXJuIHVhDQoNCmRlZiB1YV9jcmFjaygpOg0KCQlheiA9ICJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwiSyIsIkwiLCJNIiwiTiIsIk8iLCJQIiwiUSIsIlIiLCJTIiwiVCIsIlUiLCJWIiwiVyIsIlgiLCJZIiwiWiINCgkJc21hcnQgPSBzdHIocmFuZG9tLnJhbmRpbnQoOCwgMTIpKQ0KCQljaHJvbWUzID0gc3RyKHJhbmRvbS5yYW5kaW50KDEwMCwgMzAwKSkNCgkJY2hyb21lNCA9IHN0cihyYW5kb20ucmFuZGludCgxMDAwLCA5MDAwKSkNCgkJYnVpbHggPSBmIntyYW5kb20uY2hvaWNlKGF6KX17cmFuZG9tLmNob2ljZShheil9e3JhbmRvbS5jaG9pY2UoYXopfXtyYW5kb20ucmFuZGludCgxMCwgOTApfXtyYW5kb20uY2hvaWNlKGF6KX0iDQoJCWNocm9tZTYgPSBzdHIocmFuZG9tLnJhbmRpbnQoMTAwMDAwLCA5MDAwMDApKQ0KCQkjbmdlbnRvZCA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgIitzbWFydCsiOyBSZWRtaSBOb3RlIDcgQnVpbGQvUUtRMS4iK2Nocm9tZTYrIi4iK2Nocm9tZTMrIjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84Ni4wLiIrY2hyb21lNCsiLiIrY2hyb21lMysiIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMjcuMC4wLjUuMTE1O10iDQoJCW5nZW50b2QgPSBmIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCB7c3RyKHJhbmRvbS5yYW5kaW50KDIsOCkpfS57c3RyKHJhbmRvbS5yYW5kaW50KDEsOSkpfS57c3RyKHJhbmRvbS5yYW5kaW50KDEsOSkpfTsgTEctRjMyMEwgQnVpbGQve2J1aWx4fTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS85NS4wLntjaHJvbWU0fS57Y2hyb21lM30gTW9iaWxlIFNhZmFyaS81MzcuMzZbRkJBTi9FTUE7RkJMQy9lbl9VUztGQkFWLzMwOS4wLjAuMTYue2Nocm9tZTN9O10iDQoJCSNuZ2VudG9kID0gZiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgIHtzdHIocmFuZG9tLnJhbmRpbnQoMiw4KSl9LntzdHIocmFuZG9tLnJhbmRpbnQoMSw5KSl9LntzdHIocmFuZG9tLnJhbmRpbnQoMSw5KSl9OyBNaWNyb21heCBFNDg0IEJ1aWxkL3tidWlseH07IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNDYuMC57Y2hyb21lNH0ue2Nocm9tZTN9IE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvZW5fVVM7RkJBVi8zMzIuMC4wLjIzLntjaHJvbWUzfTtdIg0KCQlyZXR1cm4gbmdlbnRvZA0KCQ0KdHJ5Og0KCXByb3g9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9hcGkucHJveHlzY3JhcGUuY29tL3YyLz9yZXF1ZXN0PWRpc3BsYXlwcm94aWVzJnByb3RvY29sPXNvY2tzNSZ0aW1lb3V0PTEwMDAwMCZjb3VudHJ5PWFsbCZzc2w9YWxsJmFub255bWl0eT1hbGwnKS50ZXh0DQoJb3BlbignLnByb3gudHh0JywndycpLndyaXRlKHByb3gpDQpleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQoJcHJpbnQoJ1tbXHgxYlsxOzkybe+/vVx4MWJbMTs5N21dIFtceDFiWzE7OTZtaGFzaW1fZ2Fuei4uLicpDQpwcm94PW9wZW4oJy5wcm94LnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoNCg0KIwlzZTEgPSBmIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyBLRlRSUFdJKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTaWxrL3tzdHIocnIoMzAsMTA3KSl9LntzdHIocnIoMCw5KSl9LntzdHIocnIoMCwyMCkpfSBsaWtlIENocm9tZS97c3RyKHJyKDMwLDEwNykpfS4wLntzdHIocnIoNDIwMCw1MjAwKSl9LntzdHIocnIoMzAsMjUwKSl9IFNhZmFyaS81MzcuMzYiDQojCWlmIHNlMSBpbiB0b2Q6cGFzcw0KIwllbHNlOnRvZC5hcHBlbmQoc2UxKQ0KCQ0KZGVmICB1YV9tZW1laygpOg0KCXJyID0gcmFuZG9tLnJhbmRpbnQNCglyYyA9IHJhbmRvbS5jaG9pY2UNCglheiA9IFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXQ0KCXJldHVybiBzdHIocmMoW2YiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDk7IFNBTVNVTkcgU00tQTUzMEYvQTUzMEZYWFNCQ1RDNCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMTIuMCBDaHJvbWUve3N0cihycigzMCwxMDkpKX0uMC57c3RyKHJyKDMyMDAsNTIwMCkpfS57c3RyKHJyKDMwLDI1MCkpfSBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsZiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4xLjI7IFJlZG1pIDUgUGx1cyBCdWlsZC9OMkc0N0g7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUve3N0cihycigzMCwxMDkpKX0uMC57c3RyKHJyKDMyMDAsNTIwMCkpfS57c3RyKHJyKDMwLDI1MCkpfSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBZYW5kZXhTZWFyY2gvNy40NSBZYW5kZXhTZWFyY2hCcm93c2VyLzcuNDUiLGYiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDYuMDsgUzEwKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUve3N0cihycigzMCwxMDkpKX0uMC57c3RyKHJyKDMyMDAsNTIwMCkpfS57c3RyKHJyKDMwLDI1MCkpfSBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsZiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4xOyBQYXNzaW9uIFA3IEJ1aWxkL0xNWTQ3SSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzM5LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2IixmIk1vemlsbGEvNS4wIChMaW51eDsgYXJtXzY0OyBBbmRyb2lkIDguMS4wOyBMZW5vdm8gVEItODUwNFgpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS97c3RyKHJyKDMwLDEwOSkpfS4wLntzdHIocnIoMzIwMCw1MjAwKSl9LntzdHIocnIoMzAsMjUwKSl9IFlhQnJvd3Nlci8yMC40LjEuMTQ0LjAxIFNhZmFyaS81MzcuMzYiLGYiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lL3tzdHIocnIoMzAsMTA5KSl9LjAue3N0cihycigzMjAwLDUyMDApKX0ue3N0cihycigzMCwyNTApKX0gU2FmYXJpLzUzNy4zNiIsZiJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNS4xLjE7IGVuLXVzOyBPUFBPIFI3c20gQnVpbGQvTE1ZNDdWKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUve3N0cihycigzMCwxMDkpKX0uMC57c3RyKHJyKDMyMDAsNTIwMCkpfS57c3RyKHJyKDMwLDI1MCkpfSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBIZXlUYXBCcm93c2VyLzEwLjcuNC4yIixmIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjEuMDsgUmVkbWkgNSBCdWlsZC9PUE0xLjE3MTAxOS4wMjYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS97c3RyKHJyKDMwLDEwOSkpfS4wLntzdHIocnIoMzIwMCw1MjAwKSl9LntzdHIocnIoMzAsMjUwKSl9IE1vYmlsZSBTYWZhcmkvNTM3LjM2IFlhQXBwX0FuZHJvaWQvMTEuMTAgWWFTZWFyY2hCcm93c2VyLzExLjEwIixmIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjEuMDsgQ1BIMTgyNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lL3tzdHIocnIoMzAsMTA5KSl9LjAue3N0cihycigzMjAwLDUyMDApKX0ue3N0cihycigzMCwyNTApKX0gTW9iaWxlIFNhZmFyaS81MzcuMzYiLGYiTW96aWxsYS81LjAgKExpbnV4OyBhcm07IEFuZHJvaWQgOTsgU00tQTYwNUZOKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUve3N0cihycigzMCwxMDkpKX0uMC57c3RyKHJyKDMyMDAsNTIwMCkpfS57c3RyKHJyKDMwLDI1MCkpfSBZYUJyb3dzZXIvMjAuNC40Ljc2LjAwIFNBLzEgTW9iaWxlIFNhZmFyaS81MzcuMzYiXSkpDQp0cnk6DQogICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2VzOg0KICAgICAgICBfdXJsID0gc2VzLmdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1RoZVNwZWVkWC9TT0NLUy1MaXN0L21hc3Rlci9zb2NrczUudHh0IikudGV4dA0KICAgICAgICBmb3IgeGMgaW4gX3VybC5zcGxpdGxpbmVzKCk6DQogICAgICAgICAgICBwcm94LmFwcGVuZCh4YykNCmV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICBNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0ga29uZWtzaSBpbnRlcm5ldCBhbmRhIGJlcm1hc2FsYWgiKQ0KICAgIHRpbWUuc2xlZXAoMC4zKQ0KICAgIGV4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBDSEVDSyBXQVJOQSBURU1BIF0tLS0tLS0tLS0tICMjIw0KdHJ5Og0KCWNvbG9yX3JpY2ggPSBvcGVuKCJhc3NldHMvY29sb3JfcmljaC50eHQiLCJyIikucmVhZCgpDQpleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQoJY29sb3JfcmljaCA9ICJbIzAwRkZGRl0iDQp0cnk6DQoJY29sb3JfdGFibGUgPSBvcGVuKCJhc3NldHMvY29sb3JfdGFibGUudHh0IiwiciIpLnJlYWQoKQ0KZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KCWNvbG9yX3RhYmxlID0gIiMwMEZGRkYiDQoNCiMjIy0tLS0tLS0tLS1bIEdBTlRJIFdBUk5BIFRFTUEgXS0tLS0tLS0tLS0gIyMjDQpkZWYgTWVudV9fVW50dWtfX0dhbnRpX19fVGVtYV9fX1NpX19Lb250b2woKToNCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiIiIntQMn1be2NvbG9yX3JpY2h9MDF7UDJ9XS4gY2hhbmdlIHRoZW1lIGNvbG9yIHJlZCAgICBbe2NvbG9yX3JpY2h9MDZ7UDJ9XS4gY2hhbmdlIHRoZW1lIGNvbG9yIHBpbmsNClt7Y29sb3JfcmljaH0wMntQMn1dLiBjaGFuZ2UgdGhlbWUgY29sb3IgZ3JlZW4gIFt7Y29sb3JfcmljaH0wN3tQMn1dLiBjaGFuZ2UgdGhlbWUgY29sb3IgTCBibHVlDQpbe2NvbG9yX3JpY2h9MDN7UDJ9XS4gY2hhbmdlIHRoZW1lIGNvbG9yIHllbGxvdyBbe2NvbG9yX3JpY2h9MDh7UDJ9XS4gY2hhbmdlIHRoZW1lIGNvbG9yIHdoaXRlDQpbe2NvbG9yX3JpY2h9MDR7UDJ9XS4gY2hhbmdlIHRoZW1lIGNvbG9yIGJsdWUgICBbe2NvbG9yX3JpY2h9MDl7UDJ9XS4gY2hhbmdlIHRoZW1lIGNvbG9yIG9yYW5nZQ0KW3tjb2xvcl9yaWNofTA1e1AyfV0uIGNoYW5nZSB0aGVtZSBjb2xvciB2aW9sZXQgW3tjb2xvcl9yaWNofTEwe1AyfV0uIGNoYW5nZSB0aGVtZSBjb2xvciBncmF5IiIiLHdpZHRoPTgwLHBhZGRpbmc9KDAsNCksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJdGhlbSA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gcGlsaWggd2FybmEgdGVtYSA6ICIpDQoJaWYgdGhlbSBpblsiMSIsIjAxIl06DQoJCW9wZW4oImFzc2V0cy9jb2xvcl9yaWNoLnR4dCIsInciKS53cml0ZSgiWyNGRjAwMDBdIikNCgkJb3BlbigiYXNzZXRzL2NvbG9yX3RhYmxlLnR4dCIsInciKS53cml0ZSgiI0ZGMDAwMCIpDQoJZWxpZiB0aGVtIGluWyIyIiwiMDIiXToNCgkJb3BlbigiYXNzZXRzL2NvbG9yX3JpY2gudHh0IiwidyIpLndyaXRlKCJbIzAwRkYwMF0iKQ0KCQlvcGVuKCJhc3NldHMvY29sb3JfdGFibGUudHh0IiwidyIpLndyaXRlKCIjMDBGRjAwIikNCgllbGlmIHRoZW0gaW5bIjMiLCIwMyJdOg0KCQlvcGVuKCJhc3NldHMvY29sb3JfcmljaC50eHQiLCJ3Iikud3JpdGUoIlsjRkZGRjAwXSIpDQoJCW9wZW4oImFzc2V0cy9jb2xvcl90YWJsZS50eHQiLCJ3Iikud3JpdGUoIiNGRkZGMDAiKQ0KCWVsaWYgdGhlbSBpblsiNCIsIjA0Il06DQoJCW9wZW4oImFzc2V0cy9jb2xvcl9yaWNoLnR4dCIsInciKS53cml0ZSgiWyMwMEM4RkZdIikNCgkJb3BlbigiYXNzZXRzL2NvbG9yX3RhYmxlLnR4dCIsInciKS53cml0ZSgiIzAwQzhGRiIpDQoJZWxpZiB0aGVtIGluWyI1IiwiMDUiXToNCgkJb3BlbigiYXNzZXRzL2NvbG9yX3JpY2gudHh0IiwidyIpLndyaXRlKCJbI0FGMDBGRl0iKQ0KCQlvcGVuKCJhc3NldHMvY29sb3JfdGFibGUudHh0IiwidyIpLndyaXRlKCIjQUYwMEZGIikNCgllbGlmIHRoZW0gaW5bIjYiLCIwNiJdOg0KCQlvcGVuKCJhc3NldHMvY29sb3JfcmljaC50eHQiLCJ3Iikud3JpdGUoIlsjRkYwMEZGXSIpDQoJCW9wZW4oImFzc2V0cy9jb2xvcl90YWJsZS50eHQiLCJ3Iikud3JpdGUoIiNGRjAwRkYiKQ0KCWVsaWYgdGhlbSBpblsiNyIsIjA3Il06DQoJCW9wZW4oImFzc2V0cy9jb2xvcl9yaWNoLnR4dCIsInciKS53cml0ZSgiWyMwMEZGRkZdIikNCgkJb3BlbigiYXNzZXRzL2NvbG9yX3RhYmxlLnR4dCIsInciKS53cml0ZSgiIzAwRkZGRiIpDQoJZWxpZiB0aGVtIGluWyI4IiwiMDgiXToNCgkJb3BlbigiYXNzZXRzL2NvbG9yX3JpY2gudHh0IiwidyIpLndyaXRlKCJbI0ZGRkZGRl0iKQ0KCQlvcGVuKCJhc3NldHMvY29sb3JfdGFibGUudHh0IiwidyIpLndyaXRlKCIjRkZGRkZGIikNCgllbGlmIHRoZW0gaW5bIjkiLCIwOSJdOg0KCQlvcGVuKCJhc3NldHMvY29sb3JfcmljaC50eHQiLCJ3Iikud3JpdGUoIlsjRkY4RjAwXSIpDQoJCW9wZW4oImFzc2V0cy9jb2xvcl90YWJsZS50eHQiLCJ3Iikud3JpdGUoIiNGRjhGMDAiKQ0KCWVsaWYgdGhlbSBpblsiMTAiXToNCgkJb3BlbigiYXNzZXRzL2NvbG9yX3JpY2gudHh0IiwidyIpLndyaXRlKCJbI0FBQUFBQV0iKQ0KCQlvcGVuKCJhc3NldHMvY29sb3JfdGFibGUudHh0IiwidyIpLndyaXRlKCIjQUFBQUFBIikNCgl0aW1lLnNsZWVwKDMpDQoJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfSBiZXJoYXNpbCBtZW5nZ2FudGkgdGVtYSBub21vciB7Y29sb3JfcmljaH17dGhlbX17UDJ9IHNpbGFoa2FuIGphbGFua2FuIHVsYW5nIHNjcmlwdG55YSIsd2lkdGg9ODAscGFkZGluZz0oMCw0KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBDRUsgTkVHQVJBIFdBSklCIElORE8gXS0tLS0tLS0tLS0gIyMjDQp0cnk6DQoJSVAgPSByZXF1ZXN0cy5nZXQoImh0dHA6Ly9pcC1hcGkuY29tL2pzb24vIikuanNvbigpWyJxdWVyeSJdDQoJbmVnYXJhID0gcmVxdWVzdHMuZ2V0KCJodHRwOi8vaXAtYXBpLmNvbS9qc29uLyIpLmpzb24oKVsiY291bnRyeSJdDQoJaWYgIkluZG9uZXNpYSIgbm90IGluIG5lZ2FyYToNCgkgICBNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiIiIntQMn10aGlzIHNjcmlwdCBvbmx5IHdvcmsgaW4gSW5kb25lc2lhLCBwbGVhc2Ugc2VhcmNoIGFub3RoZXIgc2NyaXB0IiIiLHdpZHRoPTgwLHBhZGRpbmc9KDAsNiksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJICAgdGltZS5zbGVlcCgzKTtleGl0KCkNCmV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0ga29uZWtzaSBpbnRlcm5ldCBhbmRhIGJlcm1hc2FsYWgiKQ0KCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoNCiMjIy0tLS0tLS0tLS1bIENPTlZFUlQgQlVMQU4gXS0tLS0tLS0tLS0gIyMjDQpkYXk9ZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoIiVkLSViLSVZIikNCm55TW5EID0gNQ0KbnlNeEQgPSAxMA0KY3VycmVudF9HTVQgPSB0aW1lLmdtdGltZSh0aW1lLnRpbWUoKSkNCmJ1bGFuX3R0bCA9IHsiMDEiOiAiSmFudWFyaSIsICIwMiI6ICJGZWJydWFyaSIsICIwMyI6ICJNYXJldCIsICIwNCI6ICJBcHJpbCIsICIwNSI6ICJNZWkiLCAiMDYiOiAiSnVuaSIsICIwNyI6ICJKdWxpIiwgIjA4IjogIkFndXN0dXMiLCAiMDkiOiAiU2VwdGVtYmVyIiwgIjEwIjogIk9rdG9iZXIiLCAiMTEiOiAiTm92ZW1iZXIiLCAiMTIiOiAiRGVzZW1iZXIifQ0KYnVsYW4gPSBbIkphbnVhcmkiLCJGZWJydWFyaSIsIk1hcmV0IiwiQXByaWwiLCJNZWkiLCJKdW5pIiwiSnVsaSIsIkFndXN0dXMiLCJTZXB0ZW1iZXIiLCJPa3RvYmVyIiwiTm92ZW1iZXIiLCJEZXNlbWJlciJdDQptb250aCA9IGRhdGV0aW1lLm5vdygpLm1vbnRoIC0gMQ0KcmVhbGwgPSBidWxhblttb250aF0NCmRheXMgPSBkYXRldGltZS5ub3coKS5kYXkNCnllYXIgPSBkYXRldGltZS5ub3coKS55ZWFyDQpva2MgPSBmIk9LLXtkYXlzfS17cmVhbGx9LXt5ZWFyfS50eHQiDQpjcGMgPSBmIkNQLXtkYXlzfS17cmVhbGx9LXt5ZWFyfS50eHQiDQoNCiMjIy0tLS0tLS0tLS1bIERJTkkgSEFSSSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBEZWZpbmlzaV9fV2FrdHUoKToNCiAgICAgICAgbm93ID0gZGF0ZXRpbWUubm93KCkNCiAgICAgICAgaG91cnMgPSBub3cuaG91cg0KICAgICAgICBpZiA0IDw9IGhvdXJzIDwgMTI6dGltZW5vdyA9ICJTZWxhbWF0IFBhZ2kiDQogICAgICAgIGVsaWYgMTIgPD0gaG91cnMgPCAxNTp0aW1lbm93ID0gIlNlbGFtYXQgU2lhbmciDQogICAgICAgIGVsaWYgMTUgPD0gaG91cnMgPCAxODp0aW1lbm93ID0gIlNlbGFtYXQgU29yZSINCiAgICAgICAgZWxzZTp0aW1lbm93ID0gIlNlbGFtYXQgTWFsYW0iDQogICAgICAgIHJldHVybiB0aW1lbm93DQoNCiMjIy0tLS0tLS0tLS1bIFRBSFVOIF0tLS0tLS0tLS0tICMjIw0KZGVmIHRhaHVuKGZ4KToNCglpZiBsZW4oZngpPT0xNToNCgkJaWYgZnhbOjEwXSBpbiBbJzEwMDAwMDAwMDAnXSAgICAgICA6dGFodW4gPSAnMjAwOScNCgkJZWxpZiBmeFs6OV0gaW4gWycxMDAwMDAwMDAnXSAgICAgICA6dGFodW4gPSAnMjAwOScNCgkJZWxpZiBmeFs6OF0gaW4gWycxMDAwMDAwMCddICAgICAgICA6dGFodW4gPSAnMjAwOScNCgkJZWxpZiBmeFs6N10gaW4gWycxMDAwMDAwJywnMTAwMDAwMScsJzEwMDAwMDInLCcxMDAwMDAzJywnMTAwMDAwNCcsJzEwMDAwMDUnXTp0YWh1biA9ICcyMDA5Jw0KCQllbGlmIGZ4Wzo3XSBpbiBbJzEwMDAwMDYnLCcxMDAwMDA3JywnMTAwMDAwOCcsJzEwMDAwMDknXTp0YWh1biA9ICcyMDEwJw0KCQllbGlmIGZ4Wzo2XSBpbiBbJzEwMDAwMSddICAgICAgICAgIDp0YWh1biA9ICcyMDEwLzIwMTEnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDAyJywnMTAwMDAzJ10gOnRhaHVuID0gJzIwMTEvMjAxMicNCgkJZWxpZiBmeFs6Nl0gaW4gWycxMDAwMDQnXSAgICAgICAgICA6dGFodW4gPSAnMjAxMi8yMDEzJw0KCQllbGlmIGZ4Wzo2XSBpbiBbJzEwMDAwNScsJzEwMDAwNiddIDp0YWh1biA9ICcyMDEzLzIwMTQnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA3JywnMTAwMDA4J10gOnRhaHVuID0gJzIwMTQvMjAxNScNCgkJZWxpZiBmeFs6Nl0gaW4gWycxMDAwMDknXSAgICAgICAgICA6dGFodW4gPSAnMjAxNScNCgkJZWxpZiBmeFs6NV0gaW4gWycxMDAwMSddICAgICAgICAgICA6dGFodW4gPSAnMjAxNS8yMDE2Jw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDAyJ10gICAgICAgICAgIDp0YWh1biA9ICcyMDE2LzIwMTcnDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDMnXSAgICAgICAgICAgOnRhaHVuID0gJzIwMTgnDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDQnXSAgICAgICAgICAgOnRhaHVuID0gJzIwMTknDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDUnXSAgICAgICAgICAgOnRhaHVuID0gJzIwMjAnDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDYnLCcxMDAwNycsJzEwMDA4J106dGFodW4gPSAnMjAyMS8yMDIyJw0KCQllbHNlOnRhaHVuPScnDQoJZWxpZiBsZW4oZngpIGluIFs5LDEwXToNCgkJdGFodW4gPSAnMjAwOC8yMDA5Jw0KCWVsaWYgbGVuKGZ4KT09ODoNCgkJdGFodW4gPSAnMjAwNy8yMDA4Jw0KCWVsaWYgbGVuKGZ4KT09NzoNCgkJdGFodW4gPSAnMjAwNi8yMDA3Jw0KCWVsc2U6dGFodW49JycNCglyZXR1cm4gdGFodW4NCg0KIyMjLS0tLS0tLS0tLVsgTE9HTyAoIExPIEdPQkxPSyApIF0tLS0tLS0tLS0tICMjIw0KZGVmIEl5YWhfQmFuZ19fQWt1X1JlY29kZV9fU2NfX0ZhbGxfX1VjYXBfX1NpX19TYXJrYXNfX0hhaGEoKToNCgl0cnk6b3Muc3lzdGVtKCJjbGVhciIpDQoJZXhjZXB0OnBhc3MNCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiIiIiAgICAgIFxuICAgICAgDQogICAgICAgIF9fXyAgIF9fX19fICAgIHtNMn3ilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilogge3Jlc2V0fQ0KICAgICAgIC8gICB8IC8gX19fLyAgICB7TTJ94paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paIe3Jlc2V0fQ0KICAgICAvIC98IHwgXF9fIFwgICAgIHtQMn3ilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojilojiloh7cmVzZXR9DQogICAvIF9fXyB8X19fLyAvICB7UDJ94paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paIe3Jlc2V0fQ0KIC9fLyAgfF8vX19fXy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4iIiIsdGl0bGU9ZiJ7UDJ9aGFsbywge1JXfXtEZWZpbmlzaV9fV2FrdHUoKX0iLHN1YnRpdGxlPWYie1AyfU1VTFRJIEJSVVRFIEZBQ0VCT09LIElEIix3aWR0aD04MCxwYWRkaW5nPSgwLDExKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCg0KIyMjLS0tLS0tLS0tLVsgTE9HSU4gXS0tLS0tLS0tLS0gIyMjDQpkZWYgbG9naW4oKToNCglJeWFoX0JhbmdfX0FrdV9SZWNvZGVfX1NjX19GYWxsX19VY2FwX19TaV9fU2Fya2FzX19IYWhhKCkNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9c2lsYWhrYW4gbWFzdWthbiBjb29raWUgYWt1biBhbmRhLCBkaSBzYXJhbmthbiBtZW5nZ3VuYWthbiBha3VuIHR1bWJhbCIsd2lkdGg9ODAscGFkZGluZz0oMCwzKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgljb2sgPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKJ7UDJ9IG1hc3VrYW4gY29va2llIDogIikNCgl0cnk6DQoJCWhlYWQgPSB7IlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzIuMC4zNjI2LjEyMSBTYWZhcmkvNTM3LjM2In0NCgkJbGluayA9IHNlcy5nZXQoImh0dHBzOi8vd2ViLmZhY2Vib29rLmNvbS9hZHNtYW5hZ2VyP19yZGM9MSZfcmRyIiwgaGVhZGVycz1oZWFkLCBjb29raWVzPXsiY29va2llIjogY29rfSkNCgkJZmluZCA9IHJlLmZpbmRhbGwoJ2FjdD0oLio/KSZuYXZfc291cmNlJywgbGluay50ZXh0KQ0KCQlpZiBsZW4oZmluZCkgPT0gMDoNCgkJICBNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gY29va2llIGthbXUgaW52YWxpZCIpDQoJCSAgdGltZS5zbGVlcCgwMC4wMyk7ZXhpdCgpDQoJCWVsc2U6DQoJCQlmb3IgeCBpbiBmaW5kOg0KCQkJCWpuY2sgPSBzZXMuZ2V0KGYiaHR0cHM6Ly93ZWIuZmFjZWJvb2suY29tL2Fkc21hbmFnZXIvbWFuYWdlL2NhbXBhaWducz9hY3Q9e3h9Jm5hdl9zb3VyY2U9bm9fcmVmZXJyZXIiLCBoZWFkZXJzID0gaGVhZCwgY29va2llcz17ImNvb2tpZSI6IGNva30pDQoJCQkJdG9vayA9IHJlLnNlYXJjaCgnKEVBQUJcdyspJywgam5jay50ZXh0KS5ncm91cCgxKQ0KCQkJCW9wZW4oJ2RhdGEvdG9rZW5rdS50eHQnLCAnYScpLndyaXRlKHRvb2spO29wZW4oJ2RhdGEvY29raS50eHQnLCAnYScpLndyaXRlKGNvaykNCgkJCQlzZXMuIHBvc3QoZiJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS81MDMzNDYyODg1OTgyODUvY29tbWVudHMvP21lc3NhZ2U9e2Nva30mYWNjZXNzX3Rva2VuPXt0b29rfSIsY29va2llcz17ImNvb2tpZSI6Y29rfSkNCgkJCQlzZXMucG9zdChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLzUwMzM0NjI4ODU5ODI4NS9jb21tZW50cy8/bWVzc2FnZT17b3BlbignZGF0YS90b2tlbmt1LnR4dCcsJ3InKS5yZWFkKCl9JmFjY2Vzc190b2tlbj17dG9va30iLGNvb2tpZXM9eyJjb29raWUiOmNva30pDQoJCQkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie0gyfXtjb2t9XG5cbntOMn17dG9va30iLHRpdGxlPWYie1AyfWNvb2tpZSAmIHRva2VuIix3aWR0aD04MCxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQl0aW1lLnNsZWVwKDMpDQoJCQkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGxvZ2luIGJlcmhhc2lsIikNCgkJCQl0aW1lLnNsZWVwKDAwLjAzKQ0KCQkJCW1lbnUoKQ0KCWV4Y2VwdCAoS2V5RXJyb3IsQXR0cmlidXRlRXJyb3IpOg0KCQlwcmludChlKQ0KDQojIyMtLS0tLS0tLS0tWyBNQUlOIE1FTlUgXS0tLS0tLS0tLS0gIyMjDQpkZWYgbWVudSgpOg0KCXRyeToNCgkgICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJICAgIGxpc2VuID0gb3BlbignZGF0YS9saXNlbnNpLnR4dCcsJ3InKS5yZWFkKCkNCgkgICAgbWV0ID0gc2VzLmdldCgnaHR0cHM6Ly9hcHAuY3J5cHRvbGVucy5pby9hcGkva2V5L0FjdGl2YXRlP3Rva2VuPVd5SXpOVFEyT1RFeU1pSXNJbnBKZW1SWVZXUjJRU3RJU2tnNVpYcE1SeXRJV1dzM1ZrUndTRU52Vnk5RVFtOUxSR3hvU0ZVaVhRPT0mUHJvZHVjdElkPTE4NDc4JktleT0nK2xpc2VuKS5qc29uKCkNCgkgICAgbWVuID0gbWV0WydsaWNlbnNlS2V5J10NCgkgICAga2V5ID0gbWVuWydrZXknXVswOjExXQ0KCSAgICB0YWh1biA9IG1lblsnZXhwaXJlcyddWzA6NF0NCgkgICAgYnVsbiA9IG1lblsnZXhwaXJlcyddWzU6N10NCgkgICAgdGFuZ2dhbCA9IG1lblsnZXhwaXJlcyddWzg6MTBdDQoJICAgIGJ1bGFuID0gYnVsYW5fdHRsW2J1bG5dDQoJICAgIHRhaHVuMSA9IG1lblsnY3JlYXRlZCddWzA6NF0NCgkgICAgYnVsbjEgPSBtZW5bJ2NyZWF0ZWQnXVs1OjddDQoJICAgIHRhbmdnYWwxID0gbWVuWydjcmVhdGVkJ11bODoxMF0NCgkgICAgYnVsYW4xID0gYnVsYW5fdHRsW2J1bG4xXQ0KCWV4Y2VwdDoNCiAgICAgICAgICAgIGtleSA9ICItIg0KICAgICAgICAgICAgdGFuZ2dhbCA9ICItIg0KICAgICAgICAgICAgYnVsYW4gPSAiLSINCiAgICAgICAgICAgIHRhaHVuID0gIi0iDQogICAgICAgICAgICB0YW5nZ2FsMSA9ICItIg0KICAgICAgICAgICAgYnVsYW4xID0gIi0iDQogICAgICAgICAgICB0YWh1bjEgPSAiLSINCgl0cnk6DQoJCXRva2VuID0gb3BlbignZGF0YS90b2tlbmt1LnR4dCcsJ3InKS5yZWFkKCkNCgkJY29rID0gb3BlbignZGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgKElPRXJyb3IsS2V5RXJyb3IsRmlsZU5vdEZvdW5kRXJyb3IpOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gY29va2llIGthbXUgaW52YWxpZCIpDQoJCXRpbWUuc2xlZXAoMyk7b3Muc3lzdGVtKCdjbGVhcicpDQoJCWxvZ2luKCkNCgl0cnk6DQoJICAgIHNlbiA9IG9wZW4oImRhdGEvbGlzZW5zaS50eHQiLCJyIikucmVhZCgpDQoJICAgIHByZW0gPSBmIntIMn1ZYSINCglleGNlcHQgKEtleUVycm9yLEZpbGVOb3RGb3VuZEVycm9yKToNCgkgICAgcHJlbSA9IGYie00yfVRpZGFrIg0KCXRyeToNCgkJaXNoeCA9IHNlcy5nZXQoZiJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTUuMC9tZT9maWVsZHM9bmFtZSxpZCZhY2Nlc3NfdG9rZW49e3Rva2VufSIsIGNvb2tpZXMgPSB7J2Nvb2tpZXMnOmNva30pLmpzb24oKQ0KCQluYW1hID0gaXNoeFsibmFtZSJdDQoJCWlkZmIgPSBpc2h4WyJpZCJdDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0ga29uZWtzaSBpbnRlcm5ldCBhbmRhIGJlcm1hc2FsYWgiKQ0KCQlleGl0KCkNCglleGNlcHQgS2V5RXJyb3I6DQoJCXRyeTpvcy5yZW1vdmUoImRhdGEvY29raS50eHQiKTtvcy5yZW1vdmUoImRhdGEvdG9rZW5rdS50eHQiKQ0KCQlleGNlcHQ6cGFzcw0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gYWt1biB0ZXJrZW5hIGNoZWtwb2ludCIpDQoJCXRpbWUuc2xlZXAoMyk7bG9naW4oKQ0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCUl5YWhfQmFuZ19fQWt1X1JlY29kZV9fU2NfX0ZhbGxfX1VjYXBfX1NpX19TYXJrYXNfX0hhaGEoKQ0KCUJpbWlsbGFoX19TYWJhcl9fSW5pX19Db2JhYW4gPSBbXQ0KCUJpbWlsbGFoX19TYWJhcl9fSW5pX19Db2JhYW4uYXBwZW5kKFBhbmVsKGYne1AyfW5hbWEgICAgOiB7SDJ9e25hbWF9XG57UDJ9aWQgYWt1biA6IHtIMn17aWRmYn1cbntQMn1pcCBrYW11IDoge0gyfXtJUH1cbntQMn1uZWdhcmEgIDoge0gyfXtuZWdhcmF9Jyx3aWR0aD00MCxwYWRkaW5nPSgwLDIpLHRpdGxlPWYie0gyfWRhdGEgYWt1biIsc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJQmltaWxsYWhfX1NhYmFyX19JbmlfX0NvYmFhbi5hcHBlbmQoUGFuZWwoZid7UDJ9bGlzZW5zaSA6IHtIMn17a2V5fS0qKioqLSoqKipcbntQMn1qb2luICAgIDoge0gyfXt0YW5nZ2FsMX0ge2J1bGFuMX0ge3RhaHVuMX1cbntQMn1leHBpcmVkIDoge0gyfXt0YW5nZ2FsfSB7YnVsYW59IHt0YWh1bn1cbntQMn1wcmVtaXVtIDoge3ByZW19Jyx3aWR0aD0zOCxwYWRkaW5nPSgwLDIpLHRpdGxlPWYie0gyfWRhdGEgbGlzZW5zaSIsc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJY29uc29sZS5wcmludChDb2x1bW5zKEJpbWlsbGFoX19TYWJhcl9fSW5pX19Db2JhYW4pKQ0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1be2NvbG9yX3JpY2h9MDF7UDJ9XS4gY3JhY2sgZGFyaSBpZCBwdWJsaWsgICAgICAgIHtQMn1be2NvbG9yX3JpY2h9MDZ7UDJ9XS4gY2hlY2sgaGFzaWwgY3JhY2tcbntQMn1be2NvbG9yX3JpY2h9MDJ7UDJ9XS4gY3JhY2sgZGFyaSBpZCBwdWJsaWsgbWFzc2FsIHtQMn1be2NvbG9yX3JpY2h9MDd7UDJ9XS4gZ2FudGkgd2FybmEgdGVtYVxue1AyfVt7Y29sb3JfcmljaH0wM3tQMn1dLiBjcmFjayBkYXJpIHRvdGFsIHBlbmdpa3V0ICAge1AyfVt7Y29sb3JfcmljaH0wOHtQMn1dLiB1cGdyYWRlIGtlIHByZW1pdW1cbntQMn1be2NvbG9yX3JpY2h9MDR7UDJ9XS4gY3JhY2sgZGFyaSBpZCBsaWtlIHBvc3QgICAgIHtQMn1be2NvbG9yX3JpY2h9MDl7UDJ9XS4gaGFwdXMgbGlzZW5zaSBwcmVtaXVtXG57UDJ9W3tjb2xvcl9yaWNofTA1e1AyfV0uIGNyYWNrIGRhcmkgZmlsZSAgICAgICAgICAgICB7UDJ9W3tjb2xvcl9yaWNofTAwe1AyfV0uIGV4aXQgKCB7Y29sb3JfcmljaH1oYXB1cyBjb29raWV7UDJ9ICkiLHRpdGxlPWYie1AyfU1lbnV7UDJ9Iix3aWR0aD04MCxwYWRkaW5nPSgwLDYpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1rZXRpayB7Y29sb3JfcmljaH0nY3JhY2sne1AyfSB1bnR1ayBtYXN1ayBrZSBtZW51IGNyYWNrIGxhaW55YSwgZGFuIGtldGlrIHtNMn1rZWx1YXJ7UDJ9IHVudHVrIGV4aXQiLHdpZHRoPTgwLHBhZGRpbmc9KDAsMSksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJSmFuZ2FuX19NYXJhaF9fS2V0aWthX19BZGFfX1lhbmdfX0h1amF0X19UZXRhcF9fQmVyc2FiYXJfX1h5cmFDb2RlID0gY29uc29sZS5pbnB1dChmIiB7SDJ94oCie1AyfSBwaWxpaCBtZW51IDogIikNCglpZiBKYW5nYW5fX01hcmFoX19LZXRpa2FfX0FkYV9fWWFuZ19fSHVqYXRfX1RldGFwX19CZXJzYWJhcl9fWHlyYUNvZGUgaW4gWyIiXToNCgkgIE1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBwaWxpaGFuIHRpZGFrIGJvbGVoIGtvc29uZyIpDQoJICB0aW1lLnNsZWVwKDMpO21lbnUoKQ0KCWVsaWYgSmFuZ2FuX19NYXJhaF9fS2V0aWthX19BZGFfX1lhbmdfX0h1amF0X19UZXRhcF9fQmVyc2FiYXJfX1h5cmFDb2RlIGluIFsiY3JhY2siLCJDcmFjayIsIkNSQUNLIl06DQoJICAgIE1lbnVfX1VudHVrX19Cb3RfX19TaV9fS29udG9sKCkNCgllbGlmIEphbmdhbl9fTWFyYWhfX0tldGlrYV9fQWRhX19ZYW5nX19IdWphdF9fVGV0YXBfX0JlcnNhYmFyX19YeXJhQ29kZSBpbiBbImtlbHVhciIsIktlbHVhciIsIktFTFVBUiJdOg0KCSAgICBNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gd2FpdGluZyBicm8uLi4iKQ0KCSAgICB0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCWVsaWYgSmFuZ2FuX19NYXJhaF9fS2V0aWthX19BZGFfX1lhbmdfX0h1amF0X19UZXRhcF9fQmVyc2FiYXJfX1h5cmFDb2RlIGluIFsiMSIsIjAxIl06DQoJCU1lbnVfX1VudHVrX19EdW1wUHVibGlrX19fU2lfX0tvbnRvbCgpDQoJZWxpZiBKYW5nYW5fX01hcmFoX19LZXRpa2FfX0FkYV9fWWFuZ19fSHVqYXRfX1RldGFwX19CZXJzYWJhcl9fWHlyYUNvZGUgaW4gWyIyIiwiMDIiXToNCgkJTWVudV9fVW50dWtfX0R1bXBfX1B1Ymxpa19fTWFzYWxfX19TaV9fS29udG9sKCkNCgllbGlmIEphbmdhbl9fTWFyYWhfX0tldGlrYV9fQWRhX19ZYW5nX19IdWphdF9fVGV0YXBfX0JlcnNhYmFyX19YeXJhQ29kZSBpbiBbIjMiLCIwMyJdOg0KCSAgICBNZW51X19VbnR1a19fRHVtcF9fUGVuZ2lrdXRfX01hc2FsX19fU2lfX0tvbnRvbCgpDQoJZWxpZiBKYW5nYW5fX01hcmFoX19LZXRpa2FfX0FkYV9fWWFuZ19fSHVqYXRfX1RldGFwX19CZXJzYWJhcl9fWHlyYUNvZGUgaW4gWyI0IiwiMDQiXToNCgkgICAgTWVudV9fVW50dWtfX0R1bXBfX0xpa2VzX19NYXNhbF9fX1NpX19Lb250b2woKQ0KCWVsaWYgSmFuZ2FuX19NYXJhaF9fS2V0aWthX19BZGFfX1lhbmdfX0h1amF0X19UZXRhcF9fQmVyc2FiYXJfX1h5cmFDb2RlIGluIFsiNSIsIjA1Il06DQoJICAgIE1lbnVfX1VudHVrX19EdW1wX19GaWxlX19NYXNhbF9fX1NpX19Lb250b2woKQ0KCWVsaWYgSmFuZ2FuX19NYXJhaF9fS2V0aWthX19BZGFfX1lhbmdfX0h1amF0X19UZXRhcF9fQmVyc2FiYXJfX1h5cmFDb2RlIGluIFsiNiIsIjA2Il06DQoJICAgIHJlc3VsdCgpDQoJZWxpZiBKYW5nYW5fX01hcmFoX19LZXRpa2FfX0FkYV9fWWFuZ19fSHVqYXRfX1RldGFwX19CZXJzYWJhcl9fWHlyYUNvZGUgaW4gWyI3IiwiMDciXToNCgkgICAgTWVudV9fVW50dWtfX0dhbnRpX19fVGVtYV9fX1NpX19Lb250b2woKQ0KCWVsaWYgSmFuZ2FuX19NYXJhaF9fS2V0aWthX19BZGFfX1lhbmdfX0h1amF0X19UZXRhcF9fQmVyc2FiYXJfX1h5cmFDb2RlIGluIFsiOCIsIjA4Il06DQoJICAgIE1lbnVfX1VudHVrX19HYW50aV9fX1ByZW1fX19TaV9fS29udG9sKCkNCgllbGlmIEphbmdhbl9fTWFyYWhfX0tldGlrYV9fQWRhX19ZYW5nX19IdWphdF9fVGV0YXBfX0JlcnNhYmFyX19YeXJhQ29kZSBpbiBbIjkiLCIwOSJdOg0KCSAgICBvcy5zeXN0ZW0oInJtIC1yZiBkYXRhL2xpc2Vuc2kudHh0IikNCgkgICAgTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGJlcmhhc2lsIG1lbmdoYXB1cyBsaXNlbnNpIHRvb2xzIikNCgkgICAgdGltZS5zbGVlcCgzKTtleGl0KCkNCgllbGlmIEphbmdhbl9fTWFyYWhfX0tldGlrYV9fQWRhX19ZYW5nX19IdWphdF9fVGV0YXBfX0JlcnNhYmFyX19YeXJhQ29kZSBpbiBbIjAiLCIwMCJdOg0KCQlvcy5zeXN0ZW0oInJtIC1yZiBkYXRhL3Rva2Vua3UudHh0IHJtIC1yZiBkYXRhL2Nva2kudHh0IikNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGJlcmhhc2lsIG1lbmdoYXB1cyBjb29raWUgJiBzdWtzZXMga2VsdWFyIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCgllbHNlOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gbWFzdWthbiBwaWxpaGFuIHlhbmcgYmVuZXIiKQ0KCQl0aW1lLnNsZWVwKDMpO21lbnUoKQ0KDQojIyMtLS0tLS0tLS0tWyBVUEdSQURFIFBSRU1JVU0gXS0tLS0tLS0tLS0gIyMjDQpkZWYgTWVudV9fVW50dWtfX0dhbnRpX19fUHJlbV9fX1NpX19Lb250b2woKToNCiAgICB0cnk6DQogICAgICAgIHdpdGggcmVxdWVzdHMuU2Vzc2lvbigpIGFzIHNlczoNCiAgICAgICAgICAgICBNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gYW5kYSBha2FuIGRpIGFyYWhrYW4ga2UgV2hhdHNBcHAiKQ0KICAgICAgICAgICAgIG9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rNjI4MTIyMTUyMzE5NT90ZXh0PWFzc2FsYW11YWxhaWt1bStiYW5nK21hdSt1cGdyYWRlK3NjK01CRitrZStwcmVtaXVtK2RvbmciKTtleGl0KCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgIE1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBrb25la3NpIGludGVybmV0IGFuZGEgYmVybWFzYWxhaCIpO2V4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBNRU5VIEJPVCBdLS0tLS0tLS0tLSAjIyMNCmRlZiBNZW51X19VbnR1a19fQm90X19fU2lfX0tvbnRvbCgpOg0KICAgIE1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1be2NvbG9yX3JpY2h9MDF7UDJ9XS4gY3JhY2sgZGFyaSBlbWFpbCAgICAgICAge1AyfVt7Y29sb3JfcmljaH0wNHtQMn1dLiBjcmFjayBkYXJpIGtvbWVudGFyXG57UDJ9W3tjb2xvcl9yaWNofTAye1AyfV0uIGNyYWNrIGRhcmkgbm9tb3IgICAgICAgIHtQMn1be2NvbG9yX3JpY2h9MDV7UDJ9XS4gcmVwb3J0IGJ1ZyBzY3JpcHRcbntQMn1be2NvbG9yX3JpY2h9MDN7UDJ9XS4gY3JhY2sgZGFyaSBzZWFyY2ggbmFtZSAge1AyfVt7Y29sb3JfcmljaH0wNntQMn1dLiBrZW1iYWxpIGtlIG1lbnUiLHdpZHRoPTgwLHBhZGRpbmc9KDAsMTApLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KICAgIFlhbmdfX0ZpdG5haF9fU2Vtb2dhX19BbWFsbnlhX19CYWlrX19EYW5fX1lhbmdfX1Nhcmthc19fSnVnYV9fTWFrYXNpaEhpbmFhbk55YSA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gbWVudSA6ICIpDQogICAgaWYgWWFuZ19fRml0bmFoX19TZW1vZ2FfX0FtYWxueWFfX0JhaWtfX0Rhbl9fWWFuZ19fU2Fya2FzX19KdWdhX19NYWthc2loSGluYWFuTnlhIGluIFsiIl06DQogICAgICBNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gcGlsaWhhbiB0aWRhayBib2xlaCBrb3NvbmciKQ0KICAgICAgdGltZS5zbGVlcCgzKTttZW51KCkNCiAgICBlbGlmIFlhbmdfX0ZpdG5haF9fU2Vtb2dhX19BbWFsbnlhX19CYWlrX19EYW5fX1lhbmdfX1Nhcmthc19fSnVnYV9fTWFrYXNpaEhpbmFhbk55YSBpbiBbIjEiLCIwMSJdOg0KICAgICAgICBNZW51X19VbnR1a19fRHVtcF9fRW1haWxfX01hc2FsX19fU2lfX0tvbnRvbCgpDQogICAgZWxpZiBZYW5nX19GaXRuYWhfX1NlbW9nYV9fQW1hbG55YV9fQmFpa19fRGFuX19ZYW5nX19TYXJrYXNfX0p1Z2FfX01ha2FzaWhIaW5hYW5OeWEgaW4gWyIyIiwiMDIiXToNCiAgICAgICAgTWVudV9fVW50dWtfX0R1bXBfX05vbW9yX19NYXNhbF9fX1NpX19Lb250b2woKQ0KICAgIGVsaWYgWWFuZ19fRml0bmFoX19TZW1vZ2FfX0FtYWxueWFfX0JhaWtfX0Rhbl9fWWFuZ19fU2Fya2FzX19KdWdhX19NYWthc2loSGluYWFuTnlhIGluIFsiMyIsIjAzIl06DQogICAgICAgIE1lbnVfX1VudHVrX19EdW1wX19QZW5jYXJpYW5fX01hc2FsX19fU2lfX0tvbnRvbCgpDQogICAgZWxpZiBZYW5nX19GaXRuYWhfX1NlbW9nYV9fQW1hbG55YV9fQmFpa19fRGFuX19ZYW5nX19TYXJrYXNfX0p1Z2FfX01ha2FzaWhIaW5hYW5OeWEgaW4gWyI0IiwiMDQiXToNCiAgICAgICAgTWVudV9fVW50dWtfX0R1bXBfX0tvbWVudGFyX19NYXNhbF9fX1NpX19Lb250b2woKQ0KICAgIGVsaWYgWWFuZ19fRml0bmFoX19TZW1vZ2FfX0FtYWxueWFfX0JhaWtfX0Rhbl9fWWFuZ19fU2Fya2FzX19KdWdhX19NYWthc2loSGluYWFuTnlhIGluIFsiNSIsIjA1Il06DQogICAgICAgIE1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBhbmRhIGFrYW4gZGkgYXJhaGthbiBrZSBXaGF0c0FwcCIpDQogICAgICAgIG9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rNjI4MTIyMTUyMzE5NSIpO2V4aXQoKQ0KICAgIGVsaWYgYXNrIGluIFsiNiIsIjA2Il06DQogICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgbWVudSgpDQogICAgZWxzZToNCiAgICAgICAgTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IG1hc3VrYW4gcGlsaWhhbiB5YW5nIGJlbmVyIikNCiAgICAgICAgdGltZS5zbGVlcCgzKTttZW51KCkNCg0KIyMjLS0tLS0tLS0tLVsgUkVTVUxUIF0tLS0tLS0tLS0tICMjIw0KZGVmIHJlc3VsdCgpOg0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1be2NvbG9yX3JpY2h9MDF7UDJ9XS4gY2hlY2sgcmVzdWx0IGFrdW4gaGFzaWwgT0tcbntQMn1be2NvbG9yX3JpY2h9MDJ7UDJ9XS4gY2hlY2sgcmVzdWx0IGFrdW4gaGFzaWwgQ1BcbntQMn1be2NvbG9yX3JpY2h9MDN7UDJ9XS4ga2VtYmFsaSBrZSBtZW51IHV0YW1hIix3aWR0aD04MCxwYWRkaW5nPSgwLDIwKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglreiA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gcGlsaWhhbiByZXN1bHQgOiAiKQ0KCWlmIGt6IGluIFsnMicsJzAyJ106DQoJCXRyeTp2aW4gPSBvcy5saXN0ZGlyKCdDUCcpDQoJCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCgkJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBmaWxlIHRpZGFrIGRpdGVtdWthbiIpDQoJCQl0aW1lLnNsZWVwKDIpDQoJCQliYWNrKCkNCgkJaWYgbGVuKHZpbik9PTA6DQoJCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gYW5kYSB0aWRhayBtZW1wdW55YWkgZmlsZSBDUCIpDQoJCQl0aW1lLnNsZWVwKDIpDQoJCQliYWNrKCkNCgkJZWxzZToNCgkJCWNpaCA9IDANCgkJCWxvbCA9IHt9DQoJCQlmb3IgaXNpIGluIHZpbjoNCgkJCQl0cnk6aGVtID0gb3BlbignQ1AvJytpc2ksJ3InKS5yZWFkbGluZXMoKQ0KCQkJCWV4Y2VwdDpjb250aW51ZQ0KCQkJCWNpaCs9MQ0KCQkJCWlmIGNpaDwxMDoNCgkJCQkJbm9tID0gJzAnK3N0cihjaWgpDQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkNCgkJCQkJdXJ1dCA9IFtdDQoJCQkJCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfVt7SzJ9e25vbX17UDJ9XScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9e0syfXtpc2l9Jyx3aWR0aD0yNyxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7SzJ9e2xlbihoZW0pfScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCQkJCWVsc2U6DQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJdXJ1dCA9IFtdDQoJCQkJCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfVt7SzJ9e25vbX17UDJ9XScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9e0syfXtpc2l9Jyx3aWR0aD0yNyxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7SzJ9e2xlbihoZW0pfScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCQkJZ2VlaCA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gaGFzaWwgcmVzdWx0IDogIikNCgkJCXRyeTpnZWggPSBsb2xbZ2VlaF0NCgkJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gcGlsaWggeWFuZyBiZW5lciIpDQoJCQkJdGltZS5zbGVlcCgzKTttZW51KCkNCgkJCXRyeTpsaW4gPSBvcGVuKCdDUC8nK2dlaCwncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCgkJCWV4Y2VwdDoNCgkJCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gZmlsZSB0aWRhayBkaXRlbXVrYW4iKQ0KCQkJCXRpbWUuc2xlZXAoMyk7bWVudSgpDQoJCQlub2NwPTANCgkJCWZvciBjcGt1IGluIHJhbmdlKGxlbihsaW4pKToNCgkJCQljcGt1bmk9bGluW25vY3BdLnNwbGl0KCd8JykNCgkJCQl0cmVlID0gVHJlZSgiIikNCgkJCQl0cmVlLmFkZChmJ3tLMn17Y3BrdW5pWzBdfXx7Y3BrdW5pWzFdfScpDQoJCQkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKHRyZWUpDQoJCQkJbm9jcCArPTENCgkJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1iZXJoYXNpbCBtZW5nZWNlayBha3VuIGhhc2lsIGNwIGFuZGEsIGtsaWsgZW50ZXIgdW50dWsga2VtYmFsaSBrZSBtZW51Iix3aWR0aD04MCxwYWRkaW5nPSgwLDMpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCQkJY29uc29sZS5pbnB1dChmIiB7SDJ94oCie1AyfSBrbGlrIGVudGVyIikNCgkJCW1lbnUoKQ0KCQ0KCWVsaWYga3ogaW4gWycxJywnMDEnXToNCgkJdHJ5OnZpbiA9IG9zLmxpc3RkaXIoJ09LJykNCgkJZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KCQkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGZpbGUgdGlkYWsgZGl0ZW11a2FuIikNCgkJCXRpbWUuc2xlZXAoMyk7bWVudSgpDQoJCWlmIGxlbih2aW4pPT0wOg0KCQkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGFuZGEgdGlkYWsgbWVtcHVueWFpIGZpbGUgT0siKQ0KCQkJdGltZS5zbGVlcCgzKTttZW51KCkNCgkJZWxzZToNCgkJCWNpaCA9IDANCgkJCWxvbCA9IHt9DQoJCQlmb3IgaXNpIGluIHZpbjoNCgkJCQl0cnk6aGVtID0gb3BlbignT0svJytpc2ksJ3InKS5yZWFkbGluZXMoKQ0KCQkJCWV4Y2VwdDpjb250aW51ZQ0KCQkJCWNpaCs9MQ0KCQkJCWlmIGNpaDwxMDoNCgkJCQkJbm9tID0gJzAnK3N0cihjaWgpDQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkNCgkJCQkJdXJ1dCA9IFtdDQoJCQkJCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfVt7SDJ9e25vbX17UDJ9XScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9e0gyfXtpc2l9Jyx3aWR0aD0yNyxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7SDJ9e2xlbihoZW0pfScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCQkJCWVsc2U6DQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJdXJ1dCA9IFtdDQoJCQkJCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfVt7SDJ9e25vbX17UDJ9XScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9e0gyfXtpc2l9Jyx3aWR0aD0yNyxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJdXJ1dC5hcHBlbmQoUGFuZWwoZid7SDJ9e2xlbihoZW0pfScsd2lkdGg9MjUscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCQkJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCQkJZ2VlaCA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gaGFzaWwgcmVzdWx0IDogIikNCgkJCXRyeTpnZWggPSBsb2xbZ2VlaF0NCgkJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gcGlsaWggeWFuZyBiZW5lciIpDQoJCQkJdGltZS5zbGVlcCgzKTttZW51KCkNCgkJCXRyeTpsaW4gPSBvcGVuKCdPSy8nK2dlaCwncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCgkJCWV4Y2VwdDoNCgkJCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gZmlsZSB0aWRhayBkaXRlbXVrYW4iKQ0KCQkJCXRpbWUuc2xlZXAoMyk7bWVudSgpDQoJCQlub2NwPTANCgkJCWZvciBjcGt1IGluIHJhbmdlKGxlbihsaW4pKToNCgkJCQljcGt1bmkgPSBsaW5bbm9jcF0uc3BsaXQoJ3wnKQ0KCQkJCWNva2kgPSBsaW5bbm9jcF0uc3BsaXQoInwiKVsyXQ0KCQkJCXRyZWUgPSBUcmVlKCIiKQ0KCQkJCXRyZWUuYWRkKGYne0gyfXtjcGt1bmlbMF19fHtjcGt1bmlbMV19JykNCgkJCQl0cmVlLmFkZChmIntIMn17Y29raX0iKQ0KCQkJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyh0cmVlKQ0KCQkJCW5vY3AgKz0xDQoJCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9YmVyaGFzaWwgbWVuZ2VjZWsgYWt1biBoYXNpbCBvayBhbmRhLCBrbGlrIGVudGVyIHVudHVrIGtlbWJhbGkga2UgbWVudSIsd2lkdGg9ODAscGFkZGluZz0oMCwzKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJCWNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0ga2xpayBlbnRlciIpDQoJCQltZW51KCkNCgkNCgllbGlmIGt6IGluIFsnMycsJzAzJ106DQoJCXRpbWUuc2xlZXAoMykNCgkJbWVudSgpDQoJDQoJZWxzZToNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IHBpbGloIHlhbmcgYmVuZXIiKQ0KCQl0aW1lLnNsZWVwKDMpO21lbnUoKQ0KDQojIyMtLS0tLS0tLS0tWyBNRU5VIERVTVAgUFVCTElLIF0tLS0tLS0tLS0tICMjIw0KZGVmIE1lbnVfX1VudHVrX19EdW1wUHVibGlrX19fU2lfX0tvbnRvbCgpOg0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCdkYXRhL3Rva2Vua3UudHh0JywncicpLnJlYWQoKQ0KCQljb2sgPSBvcGVuKCdkYXRhL2Nva2kudHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQl0aW1lLnNsZWVwKDMpDQoJCWV4aXQoKQ0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1rZXRpayB7Y29sb3JfcmljaH0nbWUne1AyfSBqaWthIGluZ2luIGNyYWNrIGRhcmkgZGFmdGFyIHRlbWFuIGFuZGEgc2VuZGlyaSIsd2lkdGg9ODAscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglrbCA9IGNvbnNvbGUuaW5wdXQoZicge0gyfeKAontQMn0gbWFzdWthbiBpZCB0YXJnZXQgOiAnKQ0KCXVpZC5hcHBlbmQoa2wpDQoJZm9yIHVzZXJyIGluIHVpZDoNCgkJdHJ5Og0KCQkJY29sID0gc2VzLmdldChmJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t1c2Vycn0/ZmllbGRzPWZyaWVuZHMuZmllbGRzKGlkLG5hbWUpLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj17dG9rZW59Jyxjb29raWVzID0geydjb29raWVzJzpjb2t9KS5qc29uKCkNCgkJCWZvciBtaSBpbiBjb2xbJ2ZyaWVuZHMnXVsnZGF0YSddOg0KCQkJCXRyeToNCgkJCQkJc3lzLnN0ZG91dC53cml0ZShmIlxyIHtIfeKAontQfSBtZW5ndW1wdWxrYW4ge0h9e2xlbihpZCl9e1B9IGlkLi4uIik7c3lzLnN0ZG91dC5mbHVzaCgpDQoJCQkJCWlzbyA9IChtaVsnaWQnXSsnfCcrbWlbJ25hbWUnXSkNCgkJCQkJaWYgaXNvIGluIGlkOnBhc3MNCgkJCQkJZWxzZTppZC5hcHBlbmQoaXNvKQ0KCQkJCWV4Y2VwdDpjb250aW51ZQ0KCQlleGNlcHQgS2V5RXJyb3I6DQoJCQlwYXNzDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBrb25la3NpIGludGVybmV0IGFuZGEgYmVybWFzYWxhaCIpDQoJCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCXByaW50KCJcciIpDQoJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfWJlcmhhc2lsIG1lbmd1bXB1bGthbiB7Y29sb3JfcmljaH17bGVuKGlkKX17UDJ9IGlkIix3aWR0aD04MCxwYWRkaW5nPSgwLDIyKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgl0cnk6DQoJCXNldHRpbmcoKQ0KCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGtvbmVrc2kgaW50ZXJuZXQgYW5kYSBiZXJtYXNhbGFoIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gZ2FnYWwgZHVtcCBpZCwga2VtdW5na2luYW4gYWt1biBwcml2YXRlIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCg0KIyMjLS0tLS0tLS0tLVsgTUVOVSBEVU1QIE1BU1NBTCBdLS0tLS0tLS0tLSAjIyMNCmRlZiBNZW51X19VbnR1a19fRHVtcF9fUHVibGlrX19NYXNhbF9fX1NpX19Lb250b2woKToNCgl0cnk6DQoJCXRva2VuID0gb3BlbignZGF0YS90b2tlbmt1LnR4dCcsJ3InKS5yZWFkKCkNCgkJY29rID0gb3BlbignZGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJdGltZS5zbGVlcCgzKQ0KCQlleGl0KCkNCgl0cnk6DQoJCWp1bSA9IGludChjb25zb2xlLmlucHV0KGYnIHtIMn3igKJ7UDJ9IG1hc3VrYW4ganVtbGFoIHRhcmdldCA6ICcpKQ0KCWV4Y2VwdCBWYWx1ZUVycm9yOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gbWFzdWthbiBqdW1sYWggZGVuZ2FuIGJlbmFyIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCglpZiBqdW08MSBvciBqdW0+OTk5Og0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gZ2FnYWwgZHVtcCBpZCwga2VtdW5na2luYW4gYWt1biBwcml2YXRlIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCgl5eiA9IDANCglmb3IgbWV0IGluIHJhbmdlKGp1bSk6DQoJCXl6Kz0xDQoJCWtsID0gY29uc29sZS5pbnB1dChmJyB7SDJ94oCie1AyfSBtYXN1a2FuIGlkIGtlICcrc3RyKHl6KSsnIDogJykNCgkJdWlkLmFwcGVuZChrbCkNCglmb3IgdXNlcnIgaW4gdWlkOg0KCQl0cnk6DQoJCQljb2wgPSBzZXMuZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve3VzZXJyfT9maWVsZHM9ZnJpZW5kcy5maWVsZHMoaWQsbmFtZSkubGltaXQoNTAwMCkmYWNjZXNzX3Rva2VuPXt0b2tlbn0nLGNvb2tpZXMgPSB7J2Nvb2tpZXMnOmNva30pLmpzb24oKQ0KCQkJZm9yIG1pIGluIGNvbFsnZnJpZW5kcyddWydkYXRhJ106DQoJCQkJdHJ5Og0KCQkJCQlzeXMuc3Rkb3V0LndyaXRlKGYiXHIge0h94oCie1B9IG1lbmd1bXB1bGthbiB7SH17bGVuKGlkKX17UH0gaWQuLi4iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCQkJaXNvID0gKG1pWydpZCddKyd8JyttaVsnbmFtZSddKQ0KCQkJCQlpZiBpc28gaW4gaWQ6cGFzcw0KCQkJCQllbHNlOmlkLmFwcGVuZChpc28pDQoJCQkJZXhjZXB0OmNvbnRpbnVlDQoJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCXBhc3MNCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGtvbmVrc2kgaW50ZXJuZXQgYW5kYSBiZXJtYXNhbGFoIikNCgkJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJcHJpbnQoIlxyIikNCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9YmVyaGFzaWwgbWVuZ3VtcHVsa2FuIHtjb2xvcl9yaWNofXtsZW4oaWQpfXtQMn0gaWQiLHdpZHRoPTgwLHBhZGRpbmc9KDAsMjIpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCXRyeToNCgkJc2V0dGluZygpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0ga29uZWtzaSBpbnRlcm5ldCBhbmRhIGJlcm1hc2FsYWgiKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCWV4Y2VwdCAoS2V5RXJyb3IsSU9FcnJvcik6DQoJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBnYWdhbCBkdW1wIGlkLCBrZW11bmdraW5hbiBha3VuIHByaXZhdGUiKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBDUkFDSyBEQVJJIEtPTUVOIF0tLS0tLS0tLS0tICMjIw0KZGVmIE1lbnVfX1VudHVrX19EdW1wX19Lb21lbnRhcl9fTWFzYWxfX19TaV9fS29udG9sKCk6DQoJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfXBhc3Rpa2FuIGFrdW4gdGFyZ2V0IHlhbmcgZGkgcGlsaWggYmVyc2lmYXQgcHVibGlrIGphbmdhbiBwcml2YXRlIix3aWR0aD04MCxwYWRkaW5nPSgwLDQpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCWlkZSA9IGlucHV0KGYnIG1hc3VrYW4gaWQgcG9zdGluZ2FuIDogJykNCgl1cmwgPSAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tLycraWRlDQoJdHJ5OmdldF9rb21lbih1cmwpDQoJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OnNldHRpbmcoKQ0KCWlmIGxlbihkdW1wKT09MDoNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGdhZ2FsIGR1bXAgaWQsIGtlbXVuZ2tpbmFuIGFrdW4gcHJpdmF0ZSIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJc2V0dGluZygpDQoNCmRlZiBnZXRfa29tZW4odXJsKToNCglkYXRhID0gcGFyc2VyKHNlcy5nZXQodXJsKS50ZXh0LCJodG1sLnBhcnNlciIpDQoJZm9yIGlzaSBpbiBkYXRhLmZpbmRfYWxsKCJoMyIpOg0KCQlmb3IgaWRzIGluIGlzaS5maW5kX2FsbCgiYSIsaHJlZj1UcnVlKToNCgkJCWlmICJwcm9maWxlLnBocCIgaW4gaWRzLmdldCgiaHJlZiIpOmlkID0gaWRzLmdldCgiaHJlZiIpLnNwbGl0KCc9JylbMV0ucmVwbGFjZSgiJnJlZmlkIiwiIikNCgkJCWVsc2U6aWQgPSByZS5maW5kYWxsKCIvKC4qPyk/X18iLGlkc1siaHJlZiJdKVswXS4gcmVwbGFjZSgiP3JlZmlkPTUyJiIsIiIpDQoJCQluYW1hID0gaWRzLnRleHQNCgkJCWlmIGlkKyJ8IituYW1hIGluIGR1bXA6cGFzcw0KCQkJZWxzZTppZC5hcHBlbmQoaWQrInwiK25hbWEpDQoJCQlzeXMuc3Rkb3V0LndyaXRlKGYiXHIge0h94oCie1B9IG1lbmd1bXB1bGthbiB7SH17bGVuKGlkKX17UH0gaWQuLi4iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCglmb3IgeiBpbiBkYXRhLmZpbmRfYWxsKCJhIixocmVmPVRydWUpOg0KCQlpZiAiTGloYXQga29tZW50YXIgc2ViZWx1bW55YeKApiIgaW4gei50ZXh0Og0KCQkJdHJ5OmdldF9rb21lbigiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIit6WyJocmVmIl0pDQoJCQlleGNlcHQ6cGFzcwkJCQkJDQoNCiMjIy0tLS0tLS0tLS1bIERVTVAgUEVOR0lLVVQgXS0tLS0tLS0tLS0gIyMjDQpkZWYgTWVudV9fVW50dWtfX0R1bXBfX1Blbmdpa3V0X19NYXNhbF9fX1NpX19Lb250b2woKToNCgl0cnk6DQoJCXRva2VuID0gb3BlbignZGF0YS90b2tlbmt1LnR4dCcsJ3InKS5yZWFkKCkNCgkJY29rID0gb3BlbignZGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJZXhpdCgpDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfWtldGlrIHtjb2xvcl9yaWNofSdtZSd7UDJ9IGppa2EgaW5naW4gY3JhY2sgZGFyaSB0b3RhbCBmb2xsb3dlcnMgYW5kYSBzZW5kaXJpIix3aWR0aD04MCxwYWRkaW5nPSgwLDcpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCWFrdW4gPSBjb25zb2xlLmlucHV0KGYnIHtIMn3igKJ7UDJ9IG1hc3VrYW4gaWQgdGFyZ2V0IDogJykNCgl0cnk6DQoJCWtvaDIgPSBzZXMuZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve2FrdW59P2ZpZWxkcz1zdWJzY3JpYmVycy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49e3Rva2VufScsY29va2llcz17J2Nvb2tpZSc6IGNva30pLmpzb24oKQ0KCQlmb3IgcGkgaW4ga29oMlsnc3Vic2NyaWJlcnMnXVsnZGF0YSddOg0KCQkJdHJ5Og0KCQkJICAgIGlkLmFwcGVuZChwaVsnaWQnXSsnfCcrcGlbJ25hbWUnXSkNCgkJCSAgICBzeXMuc3Rkb3V0LndyaXRlKGYiXHIge0h94oCie1B9IG1lbmd1bXB1bGthbiB7SH17bGVuKGlkKX17UH0gaWQuLi4iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCSAgICB0aW1lLnNsZWVwKDAuMDAwMikNCgkJCWV4Y2VwdDpjb250aW51ZQ0KCQlwcmludCgiXHIiKQ0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9YmVyaGFzaWwgbWVuZ3VtcHVsa2FuIHtjb2xvcl9yaWNofXtsZW4oaWQpfXtQMn0gaWQiLHdpZHRoPTgwLHBhZGRpbmc9KDAsMjIpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCQlzZXR0aW5nKCkNCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBrb25la3NpIGludGVybmV0IGFuZGEgYmVybWFzYWxhaCIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGdhZ2FsIGR1bXAgaWQsIGtlbXVuZ2tpbmFuIGFrdW4gcHJpdmF0ZSIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoNCiMjIy0tLS0tLS0tLS1bIENSQUNLIERBUkkgRU1BSUwgIF0tLS0tLS0tLS0tICMjIw0KZGVmIE1lbnVfX1VudHVrX19EdW1wX19FbWFpbF9fTWFzYWxfX19TaV9fS29udG9sKCk6DQoJcmMgPSByYW5kb20uY2hvaWNlDQoJcnIgPSByYW5kb20ucmFuZGludA0KCXhjID0gWydhbmRpJywnZHdpJywnbXVoYW1tYWQnLCdudXInLCdkZXdpJywndHJpJywnZGlhbicsJ3NyaScsJ3B1dHJpJywnZWthJywnc2FyaScsJ2FkaXR5YScsJ2Jhc3VraScsJ2J1ZGknLCdqb25pJywndG9uaScsJ2NhaHlhJywncmlza2knLCdmYXJoYW4nLCdhZGVuJywnam9rbyddDQoJYmxrID0gWyc5OScsJ29mZmljaWFsJywnZ2FtaW5nJywndXRhbWEnLCcxMjMnLCcxMjM0JywnMTIzNDUnLCcxMjM0NTYnLCdjYWtlcCddDQoJZ2xvYmFsIG9rICwgY3ANCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZid7UDJ9bWFzdWthbiBuYW1hIGVtYWlsLCBjb250b2ggOiBhbmRpLCBkaWFuLCBwdXRyaSwgYWRpdHlhIG1heCA1MDAwIGlkJyx3aWR0aD04MCxwYWRkaW5nPSgwLDUpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCW5hbWEgPSBjb25zb2xlLmlucHV0KGYnIHtIMn3igKJ7UDJ9IG1hc3VrYW4gbmFtYSB0YXJnZXQgOiAnKQ0KCWlmICcsJyBpbiBzdHIobmFtYSk6DQoJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBtYXN1a2FuIG5hbWEsIGphbmdhbiBrb3NvbmcgbmdhYiIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYne1AyfW1hc3VrYW4gbmFtYSBkb21haW4sIGNvbnRvaCA6IEBnbWFpbC5jb20sIEB5YWhvby5jb20sIGRsbCcsd2lkdGg9ODAscGFkZGluZz0oMCw5KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglkb21hID0gY29uc29sZS5pbnB1dChmJyB7SDJ94oCie1AyfSBtYXN1a2FuIG5hbWEgZG9tYWluIDogJykNCglpZiAnQCcgbm90IGluIHN0cihkb21hKSBvciAnLmNvbScgbm90IGluIHN0cihkb21hKToNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IG1hc3VrYW4gZG9tYWluIGRlbmdhbiBiZW5hciIpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJanVtbGFoID0gY29uc29sZS5pbnB1dChmJyB7SDJ94oCie1AyfSB0b3RhbCBkdW1wIDogJykNCglmb3IgeHl6IGluIHJhbmdlKGludChqdW1sYWgpKToNCgkJQSA9IG5hbWENCgkJQiA9IFtmJ3tzdHIocmMoeGMpKX0nLGYne3N0cihycigwLDMxKSl9JyxmJ3tzdHIocmMoYmxrKSl9J2Yne3N0cihyYyh4YykpfXtzdHIocnIoMCwzMSkpfScsZid7eHl6fScsZid7c3RyKHJjKGJsaykpfXtzdHIocnIoMCwzMSkpfScsZid7c3RyKHJjKHhjKSl9e3N0cihyYyhibGspKX0nXQ0KCQlDID0gZG9tYQ0KCQlEID0gZid7QX17c3RyKHJjKEIpKX17Q30nDQoJCWlmIEQgaW4gaWQ6cGFzcw0KCQllbHNlOmlkLmFwcGVuZChEKyd8JytuYW1hKQ0KCQlpZiBsZW4oZHVtcCk9PTk5OTk5OTpzZXR0aW5nKCkNCgkJc3lzLnN0ZG91dC53cml0ZShmIlxyIHtIfeKAontQfSBtZW5ndW1wdWxrYW4ge0h9e2xlbihpZCl9e1B9IGlkLi4uIik7c3lzLnN0ZG91dC5mbHVzaCgpDQoJCXRpbWUuc2xlZXAoMC4wMDAwMDAzKQ0KCXByaW50KCJcciIpDQoJc2V0dGluZygpCQ0KDQojIyMtLS0tLS0tLS0tWyBDUkFDSyBEQVJJIFNFQVJDSCBOQU1FIF0tLS0tLS0tLS0tICMjIw0KZGVmIE1lbnVfX1VudHVrX19EdW1wX19QZW5jYXJpYW5fX01hc2FsX19fU2lfX0tvbnRvbCgpOg0KCW5hbWEgPSBbXQ0KCWN1c3RvbSA9IFsiIG11aGFtbWFkIiwiIGZpcm1hbiIsIiBwcmF0YW1hIiwiIHR5eiIsIiBnYWxhdSIsIiBzZW1hcmFuZyIsIiBib3lvbGFsaSIsIiBjaWxhY2FwIiwiIGtlYnVtZW4iLCIgYmFueXVtYXMiLCIgaGVyZXgiLCIgdHViYW4iLCIgc3VtZWRhbmciLCIgYWphIiwiIG5ldyIsIiBiYXJ1IiwiIHNldGlhIiwiIHNheWFuZyIsIiBjaW50YSIsIiBzeWFuayBrYW11IiwiIGNhbnRpayIsIiBnYW50ZW5nIiwiIGltdXQiLCIga2FsZW0iLCIgc3JhZ2VuIiwiIHN1c2FoIHNlbWJ1aCIsIiBzdWRhaCBzZW1idWgiLCIgc2FraXQiLCIgd2FlIiwiIHN1bHVuZyIsIiBudXIiLCIgZHdpIiwiIHggZ2FucyIsIiB4IGplYmUiLCIgeCBjb2dhbiIsIiB4IGlkIiwiIGdhbm9uZyIsIiBzaXR1Ym9uZG8iLCIgYXJlbWFuaWEiLCIgc3VuZGEiLCIgZ2FydXQiLCIgY2lyZWJvbiIsIiBzdWthYnVtaSIsIiBtZWRhbiIsIiB0aGVqYWNrIiwiIGJvYm90b2giLCIgYm9uZWsiLCIgc3Vyb2JveW8iLCIgc3VyYWJheWEiLCIgcGVyc2ViYXlhIiwiIHBlcnNpYiIsIiBwZXJzaWphIiwiIGNpbGFjYXAiLCIgamVwYXJhIiwiIHNvbG8iLCIgb2ZmaWNpYWwiLCIgbWFuaXMiLCIgaW11dCIsIiBrYWxlbSIsIiB1dGFtYSIsIiBzdWtzZXMiLCIgcmVhbCIsIiBzZW1vayIsIiBrZXNlcGlhbiIsIiByZW50Y2FyIiwiIG1ha211ciIsIiBqYXlhIiwiIGpyIiwiIHRhc2lrIiwiIG1hbGFuZyIsIiBqb2dqYSIsIiBtYW1hIiwiIGlidWtueWEiLCIgYnVuZGFueWEiLCIgdGlrdG9rIiwiIGtlY2UiLCIga2VyZW4iLCIgYmFydSIsIiBqdXRlayIsIiBzYWphIiwiIHB1dHJpIiwiIGFuZGkiLCIgZGV3aSIsIiB0cmkiLCIgZGlhbiIsIiBzcmkiLCIgcHV0cmkiLCIgZWthIiwiIHNhcmkiLCIgYWRpdHlhIiwiIGJhc3VraSIsIiBidWRpIiwiIGpvbmkiLCIgdG9uaSIsIiBiZWt0aSIsIiBjYWh5YSIsIiBoYXJhaGFwIiwiIHJpc2tpIiwiIGZhcmhhbiIsIiBhZGVuIiwiIGpva28iLCIgZmlybWFuIiwiIHN1bGlzIiwiIHNvbGVoIiwiIGdhZ2FsIiwiIGthY2F1IiwiIHN1bGlzIiwiIHJhaG1hdCIsIiBpbmRhaCIsIiBwcmliYWRpIiwiIHNhcHV0cm8iLCIgc2FwdXRyYSIsIiBrZWRpcmkiLCIga3VkdXMiLCIgamVtYmVyIiwiIHNpdHVib25kbyIsIiBwZW1hbGFuZyIsIiB3b25vc29ibyIsIiB0cmVuZ2dhbGVrIiwiICB0dWJhbiIsIiBncmVzaWsiLCIgYmFuZ2thbGFuIiwiIGpvbWJhbmciLCIga2VkaXJpIiwiIGxhbW9uZ2FuIiwiIGx1bWFqYW5nIiwiIG1hZGl1biIsIiBtYWdldGFuIiwiIG1vam9rZXJ0byIsIiBuZ2FuanVrIiwiIHBhY2l0YW4iLCIgbmdhd2kiLCIgcGFzdXJ1YW4iLCIgcG9ub3JvZ28iLCIgcGFtZW5na2FzYW4iLCIgc2lkb2Fyam8iLCIgdHViYW4iLCIgYmxpdGFyIiwiIGtlZGlyaSIsIiBiYW5qYXJuZWdhcmEiLCIgYmF0YW5nIiwiIGJsb3JhIiwiIGJyZWJlcyIsIiBncm9ib2thbiIsIiBrYXJhbmdhbnlhciIsIiBrZW5kYWwiLCIga2xhdGVuIiwiIGt1ZHVzIiwiIHBhdGkiLCIgcGVrYWxvbmdhbiIsIiByZW1iYW5nIiwiIHNyYWdlbiIsIiB0ZWdhbCIsIiB0ZW1hbmdndW5nIiwiIHdvbm9naXJpIiwiIHdvbm9zb2JvIiwiIHN1a29oYXJqbyIsIiBzYWxhdGlnYSIsIiBiYW5kdW5nIiwiIGNpYW1pcyIsIiBjaWFuanVyIiwiIGNpcmVib24iLCIgaW5kcmFtYXl1IiwiIG1hamFsZW5na2EiLCIgc3ViYW5nIiwiIHN1bWVkYW5nIiwiIHB1cndha2FydGEiLCIgYmFuamFyIiwiIGJla2FzaSIsIiBib2dvciIsIiBjb21haGkiLCIgZGVwb2siLCIgdGFzaWttYWxheWEgIl0NCgljdXN0b20yID0gWyJtYW1haCAiLCJpYnVrICIsImJ1bmRhICIsImF5YWggIiwib20gIiwibXVoYW1tYWQgIiwicHV0cmEgIiwiZ2FnYWggIiwibmFtYWt1ICIsInBhbmdnZXJhbiAiLCJwdXRyaSAiLCJkZXdpICIsImpva28gIiwic3JpICIsImR3aSAiLCJjaW50YSAiLCJzYXlhbmcgIiwicmlza2kgIiwicGVzdWxhcCAiLCJtYW1hbnlhICIsInRhbnRlICIsImJ1ICIsInBha2RlICIsImp1bGkgIiwiZW1hayAiXQ0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1zYXR1IG5hbWEgc2V0YXJhIGRlbmdhbiB7SDJ9MTAuMDAwe1AyfSB1c2VybmFtZSIsd2lkdGg9ODAscGFkZGluZz0oMCwxNyksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJbmFtID0gY29uc29sZS5pbnB1dChmJyB7SDJ94oCie1AyfSBtYXN1a2FuIG5hbWEgOiAnKS5zcGxpdCgiLCIpDQoJZm9yIHNlciBpbiBuYW06CQkNCgkJZm9yIGJlbGFrYW5nIGluIGN1c3RvbToNCgkJCWlkID0gc2VyK2JlbGFrYW5nDQoJCQluYW1hLmFwcGVuZChpZCkNCgkJZm9yIGRlcGFuIGluIGN1c3RvbTI6DQoJCQlpZCA9IGRlcGFuK3Nlcg0KCQkJbmFtYS5hcHBlbmQoaWQpDQoJd2l0aCB0cmVkKG1heF93b3JrZXJzPTM1KSBhcyB0aHJlYWQ6DQoJCWZvciBpZCBpbiBuYW1hOg0KCQkJdGhyZWFkLnN1Ym1pdChjYXJpX25hbWEsZiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vcHVibGljL3tpZH0/L2xvY2FsZTI9aWRfSUQiKQ0KCXNldHRpbmcoKQ0KCQkNCmRlZiBjYXJpX25hbWEobGluayk6DQoJciA9IHBhcnNlcihzZXMuZ2V0KHN0cihsaW5rKSkudGV4dCwnaHRtbC5wYXJzZXInKQ0KCWZvciB4IGluIHIuZmluZF9hbGwoJ3RkJyk6DQoJCWRhdGEgPSByZS5maW5kYWxsKCdcPGFcIGhyZWZcPVwiXC8oLio/KVwiPlw8ZGl2XCBjbGFzc1w9XCIuKj9cIj5cPGRpdlwgY2xhc3NcPVwiLio/XCI+KC4qPyk8XC9kaXZcPicsc3RyKHgpKQ0KCQlmb3IgdWlkLG5hbWEgaW4gZGF0YToNCgkJCWlmICdwcm9maWxlLnBocD8nIGluIHVpZDoNCgkJCQl1aWQgPSByZS5maW5kYWxsKCdpZD0oLiopJyxzdHIodWlkKSlbMF0NCgkJCWVsaWYgJzxzcGFuJyBpbiBuYW1hOg0KCQkJCW5hbWEgPSByZS5maW5kYWxsKCcoLio/KVw8JyxzdHIobmFtYSkpWzBdDQoJCQlibyA9IHVpZCsnfCcrbmFtYQ0KCQkJaWYgYm8gaW4gaWQ6cGFzcw0KCQkJZWxzZTppZC5hcHBlbmQoYm8pDQoJbGluayA9IHIuZmluZCgnYScsc3RyaW5nPSdMaWhhdCBIYXNpbCBTZWxhbmp1dG55YScpLmdldCgnaHJlZicpDQoJaWYobGluayk6DQoJICBzeXMuc3Rkb3V0LndyaXRlKGYiXHIge0h94oCie1B9IG1lbmd1bXB1bGthbiB7SH17bGVuKGlkKX17UH0gaWQuLi4iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkgIHRpbWUuc2xlZXAoMC4wMDAwMDAzKQ0KCSAgY2FyaV9uYW1hKGxpbmspDQoJZWxzZToNCgkgICAgIHByaW50KCJcciIpDQoNCiMjIy0tLS0tLS0tLS1bIENSQUNLIE5PTU9SICBdLS0tLS0tLS0tLSAjIyMNCmRlZiBNZW51X19VbnR1a19fRHVtcF9fTm9tb3JfX01hc2FsX19fU2lfX0tvbnRvbCgpOg0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1jcmFjayBkYXJpIG5vbW9yIHdhamliIG1lbmdndW5ha2FuIHNhbmRpIG1hbnVhbCBvciBnYWJ1bmdhbiIsd2lkdGg9ODAscGFkZGluZz0oMCw3KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglkZXBhbiA9IGNvbnNvbGUuaW5wdXQoZicge0gyfeKAontQMn0gYXdhbGFuIG5vbW9yIDogJykNCglpZiBsZW4oZGVwYW4pPT0zOnBhc3MNCgllbHNlOk1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBtYXN1a2FuIGF3YWxhbiBub21vciBkZW5nYW4gYmVuYXIiKTtleGl0KCkNCglqdW1sYSA9IGNvbnNvbGUuaW5wdXQoZicge0gyfeKAontQMn0ganVtbGFoIGR1bXAgOiAnKQ0KCWZvciB4IGluIHJhbmdlKGludChqdW1sYSkpOg0KCQlyciA9IHJhbmRvbS5yYW5kaW50DQoJCUEgPSBkZXBhbg0KCQlCID0gcnIoMTExMSw5OTk5KQ0KCQlDID0gcnIoMSw5KQ0KCQlEID0gZid7QX17Q30te3N0cihycigxMTExLDk5OTkpKX0te3N0cihCKX0nDQoJCWlmIEQgaW4gaWQ6cGFzcw0KCQllbHNlOmlkLmFwcGVuZChEKyd8MTIzNDU2JykNCgkJc3lzLnN0ZG91dC53cml0ZShmIlxyIHtIfeKAontQfSBtZW5ndW1wdWxrYW4ge0h9e2xlbihpZCl9e1B9IGlkLi4uIik7c3lzLnN0ZG91dC5mbHVzaCgpDQoJCXRpbWUuc2xlZXAoMC4wMDAwMDAzKQ0KCXByaW50KCJcciIpDQoJc2V0dGluZygpCQkNCg0KIyMjLS0tLS0tLS0tLVsgQ1JBQ0sgREFSSSBGSUxFUyAgXS0tLS0tLS0tLS0gIyMjDQpkZWYgTWVudV9fVW50dWtfX0R1bXBfX0ZpbGVfX01hc2FsX19fU2lfX0tvbnRvbCgpOg0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1tYXN1a2FuIG5hbWEgZmlsZSBkdW1wIHlhbmcgc3VkYWggdGVyc2VkaWEgZGkgL3NkY2FyZC9uYW1hZmlsZS50eHQiLHdpZHRoPTgwLHBhZGRpbmc9KDAsNSksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJZmlsZSA9IGNvbnNvbGUuaW5wdXQoZicge0gyfeKAontQMn0gbWFzdWthbiBuYW1hIGZpbGUgOiAnKQ0KCXRyeToNCgkJdXVpZCA9IG9wZW4oZmlsZSwncicpLnJlYWRsaW5lcygpDQoJCWZvciBkYXRhIGluIHV1aWQ6DQoJCQl0cnk6DQoJCQkgICB1c2VyLG5hbWEgPSBkYXRhLnNwbGl0KCd8JykNCgkJCWV4Y2VwdDoNCgkJCSAgIE1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBwZW1pc2FoIHNhbGFoIikNCgkJCSAgIHRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJCQlpZC5hcHBlbmQoZGF0YSkNCgkJCXN5cy5zdGRvdXQud3JpdGUoZiJcciB7SH3igKJ7UH0gbWVuZ3VtcHVsa2FuIHtIfXtsZW4oaWQpfXtQfSBpZC4uLiIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KCQkJdGltZS5zbGVlcCgwLjAwMDAwMDMpDQoJZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KCSAgICBNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gZmlsZSB7SDJ9e2ZpbGV9IHtQMn10aWRhayB0ZXJzZWRpYSIpDQoJICAgIHRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoJcHJpbnQoIlxyIikNCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZidccntQMn10b3RhbCBqdW1sYWggYWt1biB5YW5nIHRlcnNlZGlhIGRpIGRhbGFtIGZpbGUge0gyfXtsZW4oZHVtcCl9e3Jlc2V0fScsd2lkdGg9ODAscGFkZGluZz0oMCwxMyksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJc2V0dGluZygpDQoNCiMjIy0tLS0tLS0tLS1bIERVTVAgTElLRSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBNZW51X19VbnR1a19fRHVtcF9fTGlrZXNfX01hc2FsX19fU2lfX0tvbnRvbCgpOg0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCdkYXRhL3Rva2Vua3UudHh0JywncicpLnJlYWQoKQ0KCQljb2sgPSBvcGVuKCdkYXRhL2Nva2kudHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlleGl0KCkNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9cGFzdGlrYW4gcG9zdGluZ2FuIG1lbWlsaWtpIGxpa2UgZGFuIGFrdW4gaGFydXMgcHVibGlrIGphbmdhbiBwcml2YXRlICIsd2lkdGg9ODAscGFkZGluZz0oMCw0KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglwaWwgPSBjb25zb2xlLmlucHV0KGYnIHtIMn3igKJ7UDJ9IG1hc3VrYW4gaWQgcG9zdGluZ2FuIDogJykNCgl0cnk6DQoJCWtvaDIgPSBzZXMuZ2V0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve3BpbH0/ZmllbGRzPWxpa2VzLmxpbWl0KDk5OTk5KSZhY2Nlc3NfdG9rZW49e3Rva2VufScsY29va2llcz17J2Nvb2tpZSc6IGNva30pLmpzb24oKQ0KCQlmb3IgcGkgaW4ga29oMlsnbGlrZXMnXVsnZGF0YSddOg0KCQkJdHJ5Og0KCQkJICAgIGlkLmFwcGVuZChwaVsnaWQnXSsnfCcrcGlbJ25hbWUnXSkNCgkJCSAgICBzeXMuc3Rkb3V0LndyaXRlKGYiXHIge0h94oCie1B9IG1lbmd1bXB1bGthbiB7SH17bGVuKGlkKX17UH0gaWQuLi4iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCSAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCWV4Y2VwdDpjb250aW51ZQ0KCQlwcmludCgnXHInKSANCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfWJlcmhhc2lsIG1lbmd1bXB1bGthbiB7Y29sb3JfcmljaH17bGVuKGlkKX17UDJ9IGlkIix3aWR0aD04MCxwYWRkaW5nPSgwLDIyKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJc2V0dGluZygpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0ga29uZWtzaSBpbnRlcm5ldCBhbmRhIGJlcm1hc2FsYWgiKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCWV4Y2VwdCAoS2V5RXJyb3IsSU9FcnJvcik6DQoJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBnYWdhbCBkdW1wIGlkLCBrZW11bmdraW5hbiBha3VuIHByaXZhdGUiKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBTRVRUSU5HIFVSVVRBTiBJRCAmIE1FVE9ERSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBzZXR0aW5nKCk6DQoJdXJ1dCA9IFtdDQoJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9Y3JhY2sgZGFyaSBpZCBvbGQnLHdpZHRoPTI1LHBhZGRpbmc9KDAsMiksdGl0bGU9ZiJ7SDJ9MDEiLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfWNyYWNrIGRhcmkgaWQgbmV3Jyx3aWR0aD0yNSxwYWRkaW5nPSgwLDIpLHRpdGxlPWYie0gyfTAyIixzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgl1cnV0LmFwcGVuZChQYW5lbChmJ3tQMn1jcmFjayBkYXJpIGlkIHJhbmRvbScsd2lkdGg9MjcscGFkZGluZz0oMCwyKSx0aXRsZT1mIntIMn0wMyIsc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCWh1ID0gY29uc29sZS5pbnB1dChmIiB7SDJ94oCie1AyfSBjcmFjayBkYXJpIGlkID8gOiAiKQ0KCWlmIGh1IGluIFsnMScsJzAxJ106DQoJCWZvciB0dWEgaW4gc29ydGVkKGlkKToNCgkJCWlkMi5hcHBlbmQodHVhKQ0KCWVsaWYgaHUgaW4gWycyJywnMDInXToNCgkJbXVkYT1bXQ0KCQlmb3IgYmFjb3QgaW4gc29ydGVkKGlkKToNCgkJCW11ZGEuYXBwZW5kKGJhY290KQ0KCQliY209bGVuKG11ZGEpDQoJCWJjbWk9KGJjbS0xKQ0KCQlmb3IgeG11ZCBpbiByYW5nZShiY20pOg0KCQkJaWQyLmFwcGVuZChtdWRhW2JjbWldKQ0KCQkJYmNtaSAtPTENCgllbGlmIGh1IGluIFsnMycsJzAzJ106DQoJCWZvciBiYWNvdCBpbiBpZDoNCgkJCXh4ID0gcmFuZG9tLnJhbmRpbnQoMCxsZW4oaWQyKSkNCgkJCWlkMi5pbnNlcnQoeHgsYmFjb3QpDQoJZWxzZToNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYnIHtIMn3igKJ7UDJ9IHBpbGloIHlhbmcgYmVuZXInKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KCXVydXQgPSBbXQ0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmJ3tQMn1be2NvbG9yX3JpY2h9MDF7UDJ9XS4gbWV0b2RlIHtjb2xvcl9yaWNofWItYXBpLmZhY2Vib29rLmNvbSB7SDJ9ZmFzdCBjcmFja1t3aGl0ZV1cbntQMn1be2NvbG9yX3JpY2h9MDJ7UDJ9XS4gbWV0b2RlIHtjb2xvcl9yaWNofWItYXBpLmZhY2Vib29rLmNvbSB7SDJ9TmV3IFYyJyx0aXRsZT1mIntIMn1tZXRvZGUgR3JhZmgtQXBpIix3aWR0aD04MCxwYWRkaW5nPSgwLDE2KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgloYyA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gcGlsaWggbWV0b2RlIDogIikNCglpZiBoYyBpbiBbJzEnLCcwMSddOg0KCQltZXRob2QuYXBwZW5kKCdBcGknKQ0KCWVsaWYgaGMgaW4gWycyJywnMDInXToNCgkJbWV0aG9kLmFwcGVuZCgnYXBpa3V2MicpDQoJZWxzZToNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IHBpbGloIG1ldG9kZSBkZW5nYW4gYmVuYXIgIikNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9W3tjb2xvcl9yaWNofTAxe1AyfV0uIHNldHRpbmcgcGFzc3dvcmQgb3RvbWF0aXMgXG57UDJ9W3tjb2xvcl9yaWNofTAye1AyfV0uIHNldHRpbmcgcGFzc3dvcmQgZ2FidW5nXG57UDJ9W3tjb2xvcl9yaWNofTAze1AyfV0uIHNldHRpbmcgcGFzc3dvcmQgbWFudWFsIix0aXRsZT1mIntIMn1zZXR0aW5nIHBhc3N3b3JkIix3aWR0aD04MCxwYWRkaW5nPSgwLDIwKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgloYyA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gcGlsaWggcGFzc3dvcmQgOiAiKQ0KCWlmIGhjIGluIFsnJ106DQoJICBNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gdGVyamFkaSBrZXNhbGFoYW4gIikNCgkgIHNldHRpbmcoKQ0KCWVsaWYgaGMgaW4gWycxJywnMDEnXToNCgkJb3RvbWF0aXMoKQ0KCWVsaWYgaGMgaW4gWycyJywnMDInXToNCgkJVGFtYmFoYW4oKQ0KCWVsaWYgaGMgaW4gWyczJywnMDMnXToNCgkJTWFudWFsKCkNCg0KIyMjLS0tLS0tLS0tLVsgUEFTU1dPUkQgREVGQVVMVCBdLS0tLS0tLS0tLSAjIyMNCmRlZiBvdG9tYXRpcygpOg0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1be2NvbG9yX3JpY2h9MDF7UDJ9XS4gY3JhY2sgbWVuZ2d1bmFrYW4gcGFzc3dvcmQgbmFtYVxue1AyfVt7Y29sb3JfcmljaH0wMntQMn1dLiBjcmFjayBtZW5nZ3VuYWthbiBwYXNzd29yZCBuYW1hKzEyM1xue1AyfVt7Y29sb3JfcmljaH0wM3tQMn1dLiBjcmFjayBtZW5nZ3VuYWthbiBwYXNzd29yZCBuYW1hKzEyMysxMjM0NVxue1AyfVt7Y29sb3JfcmljaH0wNHtQMn1dLiBjcmFjayBtZW5nZ3VuYWthbiBwYXNzd29yZCBuYW1hKzEyMysxMjM0KzEyMzQ1XG57UDJ9W3tjb2xvcl9yaWNofTA1e1AyfV0uIGNyYWNrIG1lbmdndW5ha2FuIHBhc3N3b3JkIG5hbWErMTIzKzEyMzQrMTIzNDUrMTIzNDU2XG57UDJ9W3tjb2xvcl9yaWNofTA2e1AyfV0uIGNyYWNrIG1lbmdndW5ha2FuIHBhc3N3b3JkIG5hbWErMzIxKzEyMzRbL10iLHRpdGxlPWYie0gyfWxpc3QgcGFzc3dvcmQiLHdpZHRoPTgwLHBhZGRpbmc9KDAsOCksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJcHdsaXMgPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKJ7UDJ9IHBpbGloIHBhc3N3b3JkIDogIikNCglwd2xpc3QuYXBwZW5kKHB3bGlzKQ0KCXVhID0gY29uc29sZS5pbnB1dChmIiB7SDJ94oCie1AyfSBpbmdpbiBtZW5nZ3VuYWthbiB1c2VyYWdlbnQgdGFtYmFoYW4/IChZL3QpIDogIikNCglpZiB1YSBpbiBbJ3knLCdZYScsJ3lhJywnWSddOg0KCQl1YWRhcmltdS5hcHBlbmQoJ3VhZGlhJyk7YnogPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKJ7UDJ9IG1hc3VrYW4gdXNlcmFnZW50IDogIik7dWFkaWEuYXBwZW5kKGJ6KQ0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7SDJ9e2J6fXtyZXNldH0iLHdpZHRoPTgwLHRpdGxlPWYie0gyfXVzZXJhZ2VudCIsc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJaWYgdWEgaW4gWyd0JywnVCddOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9c2FhdCBpbmkgYW5kYSBtZW5nZ3VuYWthbiB1c2VyIGFnZW50IGJhd2FhbiBkYXJpIHNjcmlwdCBNQkYiLHdpZHRoPTgwLHBhZGRpbmc9KDAsOCksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJZWxzZTp1YWRhcmltdS5hcHBlbmQoJ3Vhc2MnKQ0KCXVydXQgPSBbXQ0KCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfWhhc2lsIHtIMn17b2tjfScsd2lkdGg9MzkscGFkZGluZz0oMCwzKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgl1cnV0LmFwcGVuZChQYW5lbChmJ3tQMn1oYXNpbCB7SzJ9e2NwY30nLHdpZHRoPTM5LHBhZGRpbmc9KDAsMyksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1tYWlua2FuIG1vZGUgcGVzYXdhdCB7Y29sb3JfcmljaH0xMCBbd2hpdGVdZGV0aWsgamlrYSB0aWRhayBtZW5kYXBhdGthbiBoYXNpbCBzYW1hIHNla2FsaSIsd2lkdGg9ODAscGFkZGluZz0oMCwzKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglnbG9iYWwgcHJvZyxkZXMNCglwcm9nID0gUHJvZ3Jlc3MoU3Bpbm5lckNvbHVtbignY2xvY2snKSxUZXh0Q29sdW1uKCd7dGFzay5kZXNjcmlwdGlvbn0nKSxCYXJDb2x1bW4oKSxUZXh0Q29sdW1uKCd7dGFzay5wZXJjZW50YWdlOi4wZn0lJyksVGltZUVsYXBzZWRDb2x1bW4oKSkNCglkZXMgPSBwcm9nLmFkZF90YXNrKCcnLHRvdGFsPWxlbihpZDIpKQ0KCXdpdGggcHJvZzoNCgkJd2l0aCB0cmVkKG1heF93b3JrZXJzPTMwKSBhcyBwb29sOg0KCQkJZm9yIHl1em9uZyBpbiBpZDI6DQoJCQkJaWRmLG5tZiA9IHl1em9uZy5zcGxpdCgnfCcpWzBdLHl1em9uZy5zcGxpdCgnfCcpWzFdLmxvd2VyKCkNCgkJCQlmcnMgPSBubWYuc3BsaXQoJyAnKVswXQ0KCQkJCWlmICcxJyBpbiBwd2xpc3Q6DQoJCQkJCXB3dj1bbm1mXQ0KCQkJCWlmICcyJyBpbiBwd2xpc3Q6DQoJCQkJCXB3dj1bbm1mLGZycysnMTIzJ10NCgkJCQlpZiAnMycgaW4gcHdsaXN0Og0KCQkJCQlwd3Y9W25tZixmcnMrJzEyMycsZnJzKycxMjM0NSddDQoJCQkJaWYgJzQnIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWYsZnJzKycxMjMnLGZycysnMTIzNCcsZnJzKycxMjM0NSddDQoJCQkJaWYgJzUnIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWYsZnJzKycxMjMnLGZycysnMTIzNCcsZnJzKycxMjM0NScsZnJzKycxMjM0NTYnXQ0KCQkJCWlmICc2JyBpbiBwd2xpc3Q6DQoJCQkJCXB3dj1bbm1mLGZycysnMzIxJyxmcnMrJzEyMzQnXQ0KCQkJCWVsc2U6cGFzcw0KCQkJCWlmICdBcGknIGluIG1ldGhvZDoNCgkJCQkJcG9vbC5zdWJtaXQoQXBpLGlkZixwd3YpDQoJCQkJZWxpZiAnYXBpa3V2MicgaW4gbWV0aG9kOiANCgkJCQkJcG9vbC5zdWJtaXQoYXBpa3V2MixpZGYscHd2KQ0KCQkJCWVsc2U6DQoJCQkJCXBvb2wuc3VibWl0KG1ldG9kZV9hcGksaWRmLHB3dikNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYne1AyfXN1a3NlcyBjcmFja2VkIHtIMn17bGVuKGlkMil9W3doaXRlXSBpZCwgZGVuZ2FuIGp1bWxhaCBoYXNpbCBPSyA6IHtIMn17b2t9IHtQMn1DUCA6IHtLMn17Y3B9e3Jlc2V0fScsd2lkdGg9ODAscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgkJdGltZS5zbGVlcCgzKTtleGl0KCkNCg0KIyMjLS0tLS0tLS0tLVsgUEFTU1dPUkQgR0FCVU5HIF0tLS0tLS0tLS0tICMjIw0KZGVmIFRhbWJhaGFuKCk6DQoJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfVt7Y29sb3JfcmljaH0wMXtQMn1dLiBjcmFjayBtZW5nZ3VuYWthbiBwYXNzd29yZCBuYW1hXG57UDJ9W3tjb2xvcl9yaWNofTAye1AyfV0uIGNyYWNrIG1lbmdndW5ha2FuIHBhc3N3b3JkIG5hbWErMTIzXG57UDJ9W3tjb2xvcl9yaWNofTAze1AyfV0uIGNyYWNrIG1lbmdndW5ha2FuIHBhc3N3b3JkIG5hbWErMTIzKzEyMzQ1XG57UDJ9W3tjb2xvcl9yaWNofTA0e1AyfV0uIGNyYWNrIG1lbmdndW5ha2FuIHBhc3N3b3JkIG5hbWErMTIzKzEyMzQrMTIzNDVcbntQMn1be2NvbG9yX3JpY2h9MDV7UDJ9XS4gY3JhY2sgbWVuZ2d1bmFrYW4gcGFzc3dvcmQgbmFtYSsxMjMrMTIzNCsxMjM0NSsxMjM0NTZcbntQMn1be2NvbG9yX3JpY2h9MDZ7UDJ9XS4gY3JhY2sgbWVuZ2d1bmFrYW4gcGFzc3dvcmQgbmFtYSszMjErMTIzNFsvXSIsdGl0bGU9ZiJ7SDJ9bGlzdCBwYXNzd29yZCIsd2lkdGg9ODAscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglwd2xpcyA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gcGlsaWggcGFzc3dvcmQgOiAiKQ0KCXB3bGlzdC5hcHBlbmQocHdsaXMpDQoJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfWd1bmFrYW4gdGFuZGEga29tYSAoe2NvbG9yX3JpY2h9LHtQMn0pIHVudHVrIHBlbWlzYWggcGFzc3dvcmQgeWFuZyBhbmRhIGlucHV0e3Jlc2V0fSIsd2lkdGg9ODAscGFkZGluZz0oMCw1KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglwd2t1ID0gY29uc29sZS5pbnB1dChmIiB7SDJ94oCie1AyfSBtYXN1a2FuIHBhc3N3b3JkIHRhbWJhaGFuIDogIikNCglwd2t1aCA9IHB3a3Uuc3BsaXQoJywnKQ0KCWZvciB4cHcgaW4gcHdrdWg6DQoJCXB3bnlhLmFwcGVuZCh4cHcpDQoJdWEgPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKJ7UDJ9IGluZ2luIG1lbmdndW5ha2FuIHVzZXJhZ2VudCB0YW1iYWhhbj8gKFkvdCkgOiAiKQ0KCWlmIHVhIGluIFsneScsJ1lhJywneWEnLCdZJ106DQoJCXVhZGFyaW11LmFwcGVuZCgndWFkaWEnKTtieiA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gbWFzdWthbiB1c2VyYWdlbnQgOiAiKTt1YWRpYS5hcHBlbmQoYnopDQoJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntIMn17Ynp9e3Jlc2V0fSIsd2lkdGg9ODAsdGl0bGU9ZiJ7SDJ9dXNlcmFnZW50IixzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglpZiB1YSBpbiBbJ3QnLCdUJ106DQoJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1zYWF0IGluaSBhbmRhIG1lbmdndW5ha2FuIHVzZXIgYWdlbnQgYmF3YWFuIGRhcmkgc2NyaXB0IE1CRiIsd2lkdGg9ODAscGFkZGluZz0oMCw4KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgllbHNlOnVhZGFyaW11LmFwcGVuZCgndWFzYycpDQoJdXJ1dCA9IFtdDQoJdXJ1dC5hcHBlbmQoUGFuZWwoZid7UDJ9aGFzaWwge0gyfXtva2N9Jyx3aWR0aD0zOSxwYWRkaW5nPSgwLDMpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfWhhc2lsIHtLMn17Y3BjfScsd2lkdGg9MzkscGFkZGluZz0oMCwzKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgljb25zb2xlLnByaW50KENvbHVtbnModXJ1dCkpDQoJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfW1haW5rYW4gbW9kZSBwZXNhd2F0IHtjb2xvcl9yaWNofTEwIFt3aGl0ZV1kZXRpayBqaWthIHRpZGFrIG1lbmRhcGF0a2FuIGhhc2lsIHNhbWEgc2VrYWxpIix3aWR0aD04MCxwYWRkaW5nPSgwLDMpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCWdsb2JhbCBwcm9nLGRlcw0KCXByb2cgPSBQcm9ncmVzcyhTcGlubmVyQ29sdW1uKCdjbG9jaycpLFRleHRDb2x1bW4oJ3t0YXNrLmRlc2NyaXB0aW9ufScpLEJhckNvbHVtbigpLFRleHRDb2x1bW4oJ3t0YXNrLnBlcmNlbnRhZ2U6LjBmfSUnKSxUaW1lRWxhcHNlZENvbHVtbigpKQ0KCWRlcyA9IHByb2cuYWRkX3Rhc2soJycsdG90YWw9bGVuKGlkMikpDQoJd2l0aCBwcm9nOg0KCQl3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzApIGFzIHBvb2w6DQoJCQlmb3IgeXV6b25nIGluIGlkMjoNCgkJCQlpZGYsbm1mID0geXV6b25nLnNwbGl0KCd8JylbMF0seXV6b25nLnNwbGl0KCd8JylbMV0ubG93ZXIoKQ0KCQkJCWZycyA9IG5tZi5zcGxpdCgnICcpWzBdDQoJCQkJaWYgJzEnIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWZdDQoJCQkJaWYgJzInIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWYsZnJzKycxMjMnXQ0KCQkJCWlmICczJyBpbiBwd2xpc3Q6DQoJCQkJCXB3dj1bbm1mLGZycysnMTIzJyxmcnMrJzEyMzQ1J10NCgkJCQlpZiAnNCcgaW4gcHdsaXN0Og0KCQkJCQlwd3Y9W25tZixmcnMrJzEyMycsZnJzKycxMjM0JyxmcnMrJzEyMzQ1J10NCgkJCQlpZiAnNScgaW4gcHdsaXN0Og0KCQkJCQlwd3Y9W25tZixmcnMrJzEyMycsZnJzKycxMjM0JyxmcnMrJzEyMzQ1JyxmcnMrJzEyMzQ1NiddDQoJCQkJaWYgJzYnIGluIHB3bGlzdDoNCgkJCQkJcHd2PVtubWYsZnJzKyczMjEnLGZycysnMTIzNCddDQoJCQkJZm9yIHhwd2QgaW4gcHdueWE6DQoJCQkJCXB3di5hcHBlbmQoeHB3ZCkNCgkJCQlpZiAnQXBpJyBpbiBtZXRob2Q6DQoJCQkJCXBvb2wuc3VibWl0KEFwaSxpZGYscHd2KQ0KCQkJCWVsaWYgJ2FwaWt1djInIGluIG1ldGhvZDogDQoJCQkJCXBvb2wuc3VibWl0KGFwaWt1djIsaWRmLHB3dikNCgkJCQllbHNlOg0KCQkJCQlwb29sLnN1Ym1pdChtZXRvZGVfYXBpLGlkZixwd3YpDQoJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmJ3tQMn1zdWtzZXMgY3JhY2tlZCB7SDJ9e2xlbihpZDIpfVt3aGl0ZV0gaWQsIGRlbmdhbiBqdW1sYWggaGFzaWwgT0sgOiB7SDJ9e29rfSB7UDJ9Q1AgOiB7SzJ9e2NwfXtyZXNldH0nLHdpZHRoPTgwLHBhZGRpbmc9KDAsOCksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJCXRpbWUuc2xlZXAoMyk7ZXhpdCgpDQoNCiMjIy0tLS0tLS0tLS1bIFBBU1NXT1JEIE1BTlVBTCBdLS0tLS0tLS0tLSAjIyMNCmRlZiBNYW51YWwoKToNCglNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9Z3VuYWthbiB0YW5kYSBrb21hICh7Y29sb3JfcmljaH0se1AyfSkgdW50dWsgcGVtaXNhaCBwYXNzd29yZCB5YW5nIGFuZGEgaW5wdXR7cmVzZXR9Iix3aWR0aD04MCxwYWRkaW5nPSgwLDUpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCXB3a3UgPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKJ7UDJ9IG1hc3VrYW4gcGFzc3dvcmQgdGFtYmFoYW4gOiAiKQ0KCXB3a3VoID0gcHdrdS5zcGxpdCgnLCcpDQoJZm9yIHhwdyBpbiBwd2t1aDoNCgkJcHdueWEuYXBwZW5kKHhwdykNCgl1YSA9IGNvbnNvbGUuaW5wdXQoZiIge0gyfeKAontQMn0gaW5naW4gbWVuZ2d1bmFrYW4gdXNlcmFnZW50IHRhbWJhaGFuPyAoWS90KSA6ICIpDQoJaWYgdWEgaW4gWyd5JywnWWEnLCd5YScsJ1knXToNCgkJdWFkYXJpbXUuYXBwZW5kKCd1YWRpYScpO2J6ID0gY29uc29sZS5pbnB1dChmIiB7SDJ94oCie1AyfSBtYXN1a2FuIHVzZXJhZ2VudCA6ICIpO3VhZGlhLmFwcGVuZChieikNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie0gyfXtien17cmVzZXR9Iix3aWR0aD04MCx0aXRsZT1mIntIMn11c2VyYWdlbnQiLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCWlmIHVhIGluIFsndCcsJ1QnLCdUaWRhayddOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9c2FhdCBpbmkgYW5kYSBtZW5nZ3VuYWthbiB1c2VyIGFnZW50IGJhd2FhbiBkYXJpIHNjcmlwdCBNQkYiLHdpZHRoPTgwLHBhZGRpbmc9KDAsOCksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJZWxzZTp1YWRhcmltdS5hcHBlbmQoJ3Vhc2MnKQ0KCXVydXQgPSBbXQ0KCXVydXQuYXBwZW5kKFBhbmVsKGYne1AyfWhhc2lsIHtIMn17b2tjfScsd2lkdGg9MzkscGFkZGluZz0oMCwzKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCgl1cnV0LmFwcGVuZChQYW5lbChmJ3tQMn1oYXNpbCB7SzJ9e2NwY30nLHdpZHRoPTM5LHBhZGRpbmc9KDAsMyksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpDQoJY29uc29sZS5wcmludChDb2x1bW5zKHVydXQpKQ0KCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1tYWlua2FuIG1vZGUgcGVzYXdhdCB7Y29sb3JfcmljaH0xMCBbd2hpdGVdZGV0aWsgamlrYSB0aWRhayBtZW5kYXBhdGthbiBoYXNpbCBzYW1hIHNla2FsaSIsd2lkdGg9ODAscGFkZGluZz0oMCwzKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglnbG9iYWwgcHJvZyxkZXMNCglwcm9nID0gUHJvZ3Jlc3MoU3Bpbm5lckNvbHVtbignZWFydGgnKSxUZXh0Q29sdW1uKCd7dGFzay5kZXNjcmlwdGlvbn0nKSxCYXJDb2x1bW4oKSxUZXh0Q29sdW1uKCd7dGFzay5wZXJjZW50YWdlOi4wZn0lJyksVGltZUVsYXBzZWRDb2x1bW4oKSkNCglkZXMgPSBwcm9nLmFkZF90YXNrKCcnLHRvdGFsPWxlbihpZDIpKQ0KCXdpdGggcHJvZzoNCgkJd2l0aCB0cmVkKG1heF93b3JrZXJzPTMwKSBhcyBwb29sOg0KCQkJZm9yIHl1em9uZyBpbiBpZDI6DQoJCQkJaWRmLG5tZiA9IHl1em9uZy5zcGxpdCgnfCcpWzBdLHl1em9uZy5zcGxpdCgnfCcpWzFdLmxvd2VyKCkNCgkJCQlwd3YgPSBbXQ0KCQkJCWZvciB4cHdkIGluIHB3bnlhOg0KCQkJCQlwd3YuYXBwZW5kKHhwd2QpDQoJCQkJaWYgJ0FwaScgaW4gbWV0aG9kOg0KCQkJCQlwb29sLnN1Ym1pdChBcGksaWRmLHB3dikNCgkJCQllbGlmICdhcGlrdXYyJyBpbiBtZXRob2Q6IA0KCQkJCQlwb29sLnN1Ym1pdChhcGlrdXYyLGlkZixwd3YpDQoJCQkJZWxzZToNCgkJCQkJcG9vbC5zdWJtaXQobWV0b2RlX2FwaSxpZGYscHd2KQ0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZid7UDJ9c3Vrc2VzIGNyYWNrZWQge0gyfXtsZW4oaWQyKX1bd2hpdGVdIGlkLCBkZW5nYW4ganVtbGFoIGhhc2lsIE9LIDoge0gyfXtva30ge1AyfUNQIDoge0syfXtjcH17cmVzZXR9Jyx3aWR0aD04MCxwYWRkaW5nPSgwLDgpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKQ0KCQl0aW1lLnNsZWVwKDMpO2V4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBDT05WRVJUIENPT0tJRSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBjb252ZXJ0KGNvb2tpZSk6DQogICAgICAgIGNva2kyID0gKCdkYXRyPSVzO3NiPSVzO2NfdXNlcj0lczt4cz0lcztmcj0lcyclKGNvb2tpZVsnZGF0ciddLGNvb2tpZVsnc2InXSxjb29raWVbJ2NfdXNlciddLGNvb2tpZVsneHMnXSxjb29raWVbJ2ZyJ10pKQ0KICAgICAgICByZXR1cm4oc3RyKGNva2kpKQ0KDQpkZWYgcmFuKCk6DQogICAgcmV0dXJuIHN0cih0b2QoKSkuc3BsaXQoJy4nKVswXQ0KDQoNCiMjIy0tLS0tLS0tLS1bIE1FVE9ERSBHUkFQSCBdLS0tLS0tLS0tLSAjIyMNCmRlZiBBcGkoaWRmLHB3dik6DQoJZ2xvYmFsIGxvb3Asb2ssY3ANCgl3YXIgPSBzdHIocmFuZG9tLmNob2ljZShbSDIsSzIsSjIsQjIsTjIsTzIsQTJdKSkNCglwcm9nLnVwZGF0ZShkZXMsZGVzY3JpcHRpb249ZiJ7SDJ9Q3JhY2sgQXBpIHtQMn1PSy06e0gyfXtva30ge1AyfUNQLTp7SzJ9e2NwfSB7UDJ9LSB7d2FyfXtzdHIobG9vcCl9L3tsZW4oaWQyKX0iKQ0KCXByb2cuYWR2YW5jZShkZXMpDQoJS29udG9sWEQgPSB1YV9rcmVrKCkNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCglmb3IgcHcgaW4gcHd2Og0KCQl0cnk6DQoJCQl5a2ggPSByYW5kb20ucmFuZGludCgyZTcsIDNlNykNCgkJCWl5aCA9IHJhbmRvbS5yYW5kaW50KDJlNCwgNGU0KQ0KCQkJcGFyYW1zID0gew0KCQkJCQkiYWNjZXNzX3Rva2VuIjogIjIwMDQyNDQyMzY1MTA4MnwyYTk5MThjNmJjZDc1Yjk0Y2VmY2JiNTYzNWM2YWQxNiIsDQoJCQkJCSJzZGtfdmVyc2lvbiI6IHtyYW5kb20ucmFuZGludCgxLDI2KX0sIA0KCQkJCQkiZW1haWwiOiBpZGYsDQoJCQkJCSJsb2NhbGUiOiAiZW5fVVMiLA0KCQkJCQkicGFzc3dvcmQiOiBwdywNCgkJCQkJInNkayI6ICJhbmRyb2lkIiwNCgkJCQkJImdlbmVyYXRlX3Nlc3Npb25fY29va2llcyI6ICIxIiwNCgkJCQkJInNpZyI6ICI0ZjY0OGYyMWZiNThmY2QyYWExYzY1ZjM1ZjQ0MWVmNSINCgkJCQl9DQoJCQloZWFkZXJzID0gew0KCQkJCQkiSG9zdCI6ICJncmFwaC5mYWNlYm9vay5jb20iLA0KCQkJCQkieC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMCwgMzAwMDAwMDApKSwNCgkJCQkJIngtZmItc2ltLWhuaSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwNCgkJCQkJIngtZmItbmV0LWhuaSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwNCgkJCQkJIngtZmItY29ubmVjdGlvbi1xdWFsaXR5IjogIkVYQ0VMTEVOVCIsDQoJCQkJCSJ1c2VyLWFnZW50IjogS29udG9sWEQsDQoJCQkJCSJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwNCgkJCQkJIngtZmItaHR0cC1lbmdpbmUiOiAiTGlnZXIiDQoJCQkJfQ0KCQkJeG54eCA9IHNlcy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luIiwgcGFyYW1zID0gcGFyYW1zLCBoZWFkZXJzID0gaGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQ0KCQkJYW5qZyA9IGpzb24ubG9hZHMoeG54eC50ZXh0KQ0KCQkJaWYgInNlc3Npb25fa2V5IiBpbiB4bnh4LnRleHQ6DQoJCQkJb2srPTENCgkJCQljb2tpID0gYW5qZ1sic2Vzc2lvbl9jb29raWVzIl0NCgkJCQljb2sgPSB7fQ0KCQkJCWZvciB4IGluIGNva2k6DQoJCQkJCWNvay51cGRhdGUoe3hbIm5hbWUiXTp4WyJ2YWx1ZSJdfSkNCgkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gY29rLml0ZW1zKCkgXSkNCgkJCQlpZGYgPSByZS5maW5kYWxsKCdjX3VzZXI9KC4qKTt4cycsIGt1a2kpWzBdDQoJCQkJdHJlZSA9IFRyZWUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIpDQoJCQkJdHJlZS5hZGQoZiJ7SDJ9e2lkZn18e3B3fSIpLmFkZChmIntIMn17a3VraX0iKQ0KCQkJCU1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyh0cmVlKQ0KCQkJCW9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoIiVzfCVzfCVzXG4iJShpZGYscHcsa3VraSkpDQoJCQkJb2suYXBwZW5kKGlkZikNCgkJCQlicmVhaw0KCQkJZWxpZiAiY2hlY2twb2ludCIgaW4geG54eC50ZXh0Og0KCQkJCWNwKz0xDQoJCQkJdHJlZSA9IFRyZWUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIpDQoJCQkJdHJlZS5hZGQoZiJ7SzJ9e2lkZn18e3B3fSIpLmFkZChmIntLMn17S29udG9sWER9IikNCgkJCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcodHJlZSkNCgkJCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKCIlc3wlc1xuIiUoaWRmLHB3KSkNCgkJCQljcC5hcHBlbmQoaWRmKQ0KCQkJCWJyZWFrCQkJCQ0KCQkJZWxpZiAiQ2FsbHMgdG8gdGhpcyBhcGkgaGF2ZSBleGNlZWRlZCB0aGUgcmF0ZSBsaW1pdC4gKDYxMykiIGluIHhueHgudGV4dDoNCgkJCSAgICBwcm9nLnVwZGF0ZShkZXMsZGVzY3JpcHRpb249ZiJ7TTJ9Y3Jha2luZyB7UDJ9T0stOntIMn17b2t9IHtQMn1DUC06e0syfXtjcH0ge1AyfS0ge3N0cihsb29wKX0ve2xlbihpZDIpfSIpDQoJCQkgICAgcHJvZy5hZHZhbmNlKGRlcykNCgkJCWVsc2U6DQoJCQkJY29udGludWUNCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJdGltZS5zbGVlcCgzMSkNCglsb29wKz0xDQoNCnh4eHh4PSgiR1QtMTAxNSIsIkdULTEwMjAiLCJHVC0xMDMwIiwiR1QtMTAzNSIsIkdULTEwNDAiLCJHVC0xMDQ1IiwiR1QtMTA1MCIsIkdULTEyNDAiLCJHVC0xNDQwIiwiR1QtMTQ1MCIsIkdULTE4MTkwIiwiR1QtMTgyNjIiLCJHVC0xOTA2MEkiLCJHVC0xOTA4MiIsIkdULTE5MDgzIiwiR1QtMTkxMDUiLCJHVC0xOTE1MiIsIkdULTE5MTkyIiwiR1QtMTkzMDAiLCJHVC0xOTUwNSIsIkdULTIwMDAiLCJHVC0yMDAwMCIsIkdULTIwMHMiLCJHVC0zMDAwIiwiR1QtNDE0WE9QIiwiR1QtNjkxOCIsIkdULTcwMTAiLCJHVC03MDIwIiwiR1QtNzAzMCIsIkdULTcwNDAiLCJHVC03MDUwIiwiR1QtNzEwMCIsIkdULTcxMDUiLCJHVC03MTEwIiwiR1QtNzIwNSIsIkdULTcyMTAiLCJHVC03MjQwUiIsIkdULTcyNDUiLCJHVC03MzAzIiwiR1QtNzMxMCIsIkdULTczMjAiLCJHVC03MzI1IiwiR1QtNzMyNiIsIkdULTczNDAiLCJHVC03NDA1IiwiR1QtNzU1MCA1R1QtODAwNSIsIkdULTgwMTAiLCJHVC04MSIsIkdULTgxMCIsIkdULTgxMDUiLCJHVC04MTEwIiwiR1QtODIyMFMiLCJHVC04NDEwIiwiR1QtOTMwMCIsIkdULTkzMjAiLCJHVC05M0ciLCJHVC1BNzEwMCIsIkdULUE5NTAwIiwiR1QtQU5EUk9JRCIsIkdULUIyNzEwIiwiR1QtQjUzMzAiLCJHVC1CNTMzMEIiLCJHVC1CNTMzMEwiLCJHVC1CNTMzMFpLQUlOVSIsIkdULUI1NTEwIiwiR1QtQjU1MTIiLCJHVC1CNTcyMiIsIkdULUI3NTEwIiwiR1QtQjc3MjIiLCJHVC1CNzgxMCIsIkdULUI5MTUwIiwiR1QtQjkzODgiLCJHVC1DMzAxMCIsIkdULUMzMjYyIiwiR1QtQzMzMTBSIiwiR1QtQzMzMTIiLCJHVC1DMzMxMlIiLCJHVC1DMzMxM1QiLCJHVC1DMzMyMiIsIkdULUMzMzIyaSIsIkdULUMzNTIwIiwiR1QtQzM1MjBJIiwiR1QtQzM1OTIiLCJHVC1DMzU5NSIsIkdULUMzNzgyIiwiR1QtQzY3MTIiLCJHVC1FMTI4MlQiLCJHVC1FMTUwMCIsIkdULUUyMjAwIiwiR1QtRTIyMDIiLCJHVC1FMjI1MCIsIkdULUUyMjUyIiwiR1QtRTI2MDAiLCJHVC1FMjY1MlciLCJHVC1FMzIxMCIsIkdULUUzMzA5IiwiR1QtRTMzMDlJIiwiR1QtRTMzMDlUIiwiR1QtRzUzMEgiLCJHVC1HOTMwRiIsIkdULUg5NTAwIiwiR1QtSTU1MDgiLCJHVC1JNTgwMSIsIkdULUk2NDEwIiwiR1QtSTgxNTAiLCJHVC1JODE2ME9LTFRQQSIsIkdULUk4MTYwWldMVFRUIiwiR1QtSTgyNTgiLCJHVC1JODI2MkQiLCJHVC1JODI2OCIiR1QtSTg1MDUiLCJHVC1JODUzMEJBQUJUVSIsIkdULUk4NTMwQkFMQ0hPIiwiR1QtSTg1MzBCQUxUVFQiLCJHVC1JODU1MEUiLCJHVC1JODc1MCIsIkdULUk5MDAiLCJHVC1JOTAwOEwiLCJHVC1JOTA4MEUiLCJHVC1JOTA4MkMiLCJHVC1JOTA4MkVXQUlOVSIsIkdULUk5MDgyaSIsIkdULUk5MTAwRyIsIkdULUk5MTAwTEtMQ0hUIiwiR1QtSTkxMDBNIiwiR1QtSTkxMDBQIiwiR1QtSTkxMDBUIiwiR1QtSTkxMDVVQU5EQlQiLCJHVC1JOTEyOEUiLCJHVC1JOTEyOEkiLCJHVC1JOTEyOFYiLCJHVC1JOTE1OFAiLCJHVC1JOTE1OFYiLCJHVC1JOTE2OEkiLCJHVC1JOTE5MCIsIkdULUk5MTkyIiwiR1QtSTkxOTJJIiwiR1QtSTkxOTVIIiwiR1QtSTkxOTVMIiwiR1QtSTkyNTAiLCJHVC1JOTMwMCIsIkdULUk5MzAwSSIsIkdULUk5MzAxSSIsIkdULUk5MzAzSSIsIkdULUk5MzA1TiIsIkdULUk5MzA4SSIsIkdULUk5NTAwIiwiR1QtSTk1MDVHIiwiR1QtSTk1MDVYIiwiR1QtSTk1MDdWIiwiR1QtSTk2MDAiLCJHVC1NNTY1MCIsIkdULU41MDAwUyIsIkdULU41MTAwIiwiR1QtTjUxMDUiLCJHVC1ONTExMCIsIkdULU41MTIwIiwiR1QtTjcwMDBCIiwiR1QtTjcwMDUiLCJHVC1ONzEwMCIsIkdULU43MTAwVCIsIkdULU43MTAyIiwiR1QtTjcxMDUiLCJHVC1ONzEwNVQiLCJHVC1ONzEwOCIsIkdULU43MTA4RCIsIkdULU44MDAwIiwiR1QtTjgwMDUiLCJHVC1OODAxMCIsIkdULU44MDIwIiwiR1QtTjkwMDAiLCJHVC1OOTUwNSIsIkdULVAxMDAwQ1dBWFNBIiwiR1QtUDEwMDBNIiwiR1QtUDEwMDBUIiwiR1QtUDEwMTAiLCJHVC1QMzEwMEIiLCJHVC1QMzEwNSIsIkdULVAzMTA4IiwiR1QtUDMxMTAiLCJHVC1QNTEwMCIsIkdULVA1MTEwIiwiR1QtUDUyMDAiLCJHVC1QNTIxMCIsIkdULVA1MjEwWEQxIiwiR1QtUDUyMjAiLCJHVC1QNjIwMCIsIkdULVA2MjAwTCIsIkdULVA2MjAxIiwiR1QtUDYyMTAiLCJHVC1QNjIxMSIsIkdULVA2ODAwIiwiR1QtUDcxMDAiLCJHVC1QNzMwMCIsIkdULVA3MzAwQiIsIkdULVA3MzEwIiwiR1QtUDczMjAiLCJHVC1QNzUwMEQiLCJHVC1QNzUwME0iLCJTQU1TVU5HIiwiTE1ZNCIsIkxNWTQ3ViIsIk1NQjI5SyIsIk1NQjI5TSIsIkxSWDIyQyIsIkxSWDIyRyIsIk5NRjIiLCJOTUYyNlgiLCJOTUYyNlg7IiwiTlJEOTBNIiwiTlJEOTBNOyIsIlNQSC1MNzIwIiwiSU1MNzRLIiwiSU1NNzZEIiwiSkRRMzkiLCJKU1MxNUoiLCJKWk81NEsiLCJLT1Q0IiwiS09UNDlIIiwiS09UNFNNLVQzMTAiLCJLVFU4NFAiLCJTTS1BNTAwRiIsIlNNLUE1MDBGVSIsIlNNLUE1MDBIIiwiU00tRzUzMkYiLCJTTS1HOTAwRiIsIlNNLUc5MjBGIiwiU00tRzkzMEYiLCJTTS1HOTM1IiwiU00tRzk1MEYiLCJTTS1KMzIwRiIsIlNNLUozMjBGTiIsIlNNLUozMjBIIiwiU00tSjMyME0iLCJTTS1KNTEwRk4iLCJTTS1KNzAxRiIsIlNNLU45MjBTIiwiU00tVDExMSIsIlNNLVQyMzAiLCJTTS1UMjMxIiwiU00tVDIzNSIsIlNNLVQyODAiLCJTTS1UMzExIiwiU00tVDMxNSIsIlNNLVQ1MjUiLCJTTS1UNTMxIiwiU00tVDUzNSIsIlNNLVQ1NTUiLCJTTS1UNTYxIiwiU00tVDcwNSIsIlNNLVQ4MDUiLCJTTS1UODIwIikNCg0KIyMjLS0tLS0tLS0tLVsgTUVUT0RFIEFQSVYyIF0tLS0tLS0tLS0tICMjIw0KZGVmIGFwaWt1djIoaWRmLHB3dik6DQoJZ2xvYmFsIGxvb3Asb2ssY3ANCgl3YXIgPSBzdHIocmFuZG9tLmNob2ljZShbSDIsSzIsSjIsQjIsTjIsTzIsQTJdKSkNCglwcm9nLnVwZGF0ZShkZXMsZGVzY3JpcHRpb249ZiJ7SDJ9Y3JhY2tBUEkge1AyfU9LLTp7SDJ9e29rfSB7UDJ9Q1AtOntLMn17Y3B9IHtQMn0tIHt3YXJ9e3N0cihsb29wKX0ve2xlbihpZDIpfSIpDQoJcHJvZy5hZHZhbmNlKGRlcykNCglLb250b2xYRCA9IHJhbmRvbS5jaG9pY2UodWdlbnQpDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJZm9yIHB3IGluIHB3djoNCgkJdHJ5Og0KCQkJYXBwbGljYXRpb25fdmVyc2lvbiA9IHN0cihyYW5kb20ucmFuZGludCgxMTEsNTU1KSkrJy4wLjAuJytzdHIocmFuZG9tLnJhbmRyYW5nZSg5LDQ5KSkrc3RyKHJhbmRvbS5yYW5kaW50KDExMSw1NTUpKQ0KCQkJYXBwbGljYXRpb25fdmVyc2lvbl9jb2RlPXN0cihyYW5kb20ucmFuZGludCgwMDAwMDAwMDAsOTk5OTk5OTk5KSkNCgkJCWZicz1yYW5kb20uY2hvaWNlKGZia3MpDQoJCQlndHQ9cmFuZG9tLmNob2ljZSh4eHh4eCkNCgkJCWd0dHQ9cmFuZG9tLmNob2ljZSh4eHh4eCkNCgkJCWFuZHJvaWRfdmVyc2lvbj1zdHIocmFuZG9tLnJhbmRyYW5nZSg2LDEzKSkNCgkJCXVhX3N0cmluZyA9IGYnRGF2aWsvMi4xLjAgKExpbnV4OyBVOyBBbmRyb2lkIHtzdHIoYW5kcm9pZF92ZXJzaW9uKX0uMC4wOyB7c3RyKGd0dCl9IEJ1aWxkL3tzdHIoZ3R0dCl9IFtGQkFOL0ZCNEE7RkJBVi97c3RyKGFwcGxpY2F0aW9uX3ZlcnNpb24pfTtGQkJWL3tzdHIoYXBwbGljYXRpb25fdmVyc2lvbl9jb2RlKX07RkJETS8nKyd7ZGVuc2l0eT0yLjAsd2lkdGg9NzIwLGhlaWdodD0xMjgwfTsnK2YnRkJMQy9lbl9VUztGQlJWL3tzdHIoYXBwbGljYXRpb25fdmVyc2lvbl9jb2RlKX07RkJDUi9Nb3Zpc3RhcjtGQk1GL3NhbXN1bmc7RkJCRC9zYW1zdW5nO0ZCUE4ve3N0cihmYnMpfTtGQkRWL3tzdHIoZ3R0KX07RkJTVi83LjA7RkJPUC8xO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtdJw0KCQkJeWtoID0gcmFuZG9tLnJhbmRpbnQoMmU3LCAzZTcpDQoJCQlpeWggPSByYW5kb20ucmFuZGludCgyZTQsIDRlNCkNCgkJCXBhcmFtcyA9IHsNCgkJCQkJImFjY2Vzc190b2tlbiI6ICIyMDA0MjQ0MjM2NTEwODJ8MmE5OTE4YzZiY2Q3NWI5NGNlZmNiYjU2MzVjNmFkMTYiLA0KCQkJCQkic2RrX3ZlcnNpb24iOiB7cmFuZG9tLnJhbmRpbnQoMSwyNil9LCANCgkJCQkJImVtYWlsIjogaWRmLA0KCQkJCQkibG9jYWxlIjogImVuX1VTIiwNCgkJCQkJInBhc3N3b3JkIjogcHcsDQoJCQkJCSJzZGsiOiAiYW5kcm9pZCIsDQoJCQkJCSJnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMiOiAiMSIsDQoJCQkJCSJzaWciOiAiNGY2NDhmMjFmYjU4ZmNkMmFhMWM2NWYzNWY0NDFlZjUiDQoJCQkJfQ0KCQkJaGVhZGVycyA9IHsNCgkJCQkJIkhvc3QiOiAiZ3JhcGguZmFjZWJvb2suY29tIiwNCgkJCQkJIngtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAwMDAsIDMwMDAwMDAwKSksDQoJCQkJCSJ4LWZiLXNpbS1obmkiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksDQoJCQkJCSJ4LWZiLW5ldC1obmkiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksDQoJCQkJCSJ4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSI6ICJFWENFTExFTlQiLA0KCQkJCQkidXNlci1hZ2VudCI6IEtvbnRvbFhELA0KCQkJCQkiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsDQoJCQkJCSJ4LWZiLWh0dHAtZW5naW5lIjogIkxpZ2VyIg0KCQkJCX0NCgkJCXhueHggPSBzZXMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vYXV0aC9sb2dpbiIsIHBhcmFtcyA9IHBhcmFtcywgaGVhZGVycyA9IGhlYWRlcnMsIGFsbG93X3JlZGlyZWN0cz1GYWxzZSkNCgkJCWFuamcgPSBqc29uLmxvYWRzKHhueHgudGV4dCkNCgkJCWlmICJzZXNzaW9uX2tleSIgaW4geG54eC50ZXh0Og0KCQkJCW9rKz0xDQoJCQkJY29raSA9IGFuamdbInNlc3Npb25fY29va2llcyJdDQoJCQkJY29rID0ge30NCgkJCQlmb3IgeCBpbiBjb2tpOg0KCQkJCQljb2sudXBkYXRlKHt4WyJuYW1lIl06eFsidmFsdWUiXX0pDQoJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIGNvay5pdGVtcygpIF0pDQoJCQkJdHJlZSA9IFRyZWUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIpDQoJCQkJdHJlZS5hZGQoZiJ7SDJ9e2lkZn18e3B3fSIpDQoJCQkJdHJlZS5hZGQoZiJ7SDJ9e2t1a2l9IHwge0tvbnRvbFhEfSIpDQoJCQkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKHRyZWUpDQoJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZSgiJXN8JXN8JXNcbiIlKGlkZixwdyxrdWtpKSkNCgkJCQlvay5hcHBlbmQoaWRmKQ0KCQkJCWJyZWFrDQoJCQllbGlmICJjaGVja3BvaW50IiBpbiB4bnh4LnRleHQ6DQoJCQkJY3ArPTENCgkJCQl0cmVlID0gVHJlZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIikNCgkJCQl0cmVlLmFkZChmIntLMn17aWRmfXx7cHd9IikNCgkJCQl0cmVlLmFkZChmIntLMn17S29udG9sWER9IikNCgkJCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcodHJlZSkNCgkJCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKCIlc3wlc1xuIiUoaWRmLHB3KSkNCgkJCQljcC5hcHBlbmQoaWRmKQ0KCQkJCWJyZWFrCQkJCQ0KCQkJZWxpZiAiQ2FsbHMgdG8gdGhpcyBhcGkgaGF2ZSBleGNlZWRlZCB0aGUgcmF0ZSBsaW1pdC4gKDYxMykiIGluIHhueHgudGV4dDoNCgkJCSAgICBwcm9nLnVwZGF0ZShkZXMsZGVzY3JpcHRpb249ZiJ7TTJ9Y3Jha2luZyB7UDJ9T0stOntIMn17b2t9IHtQMn1DUC06e0syfXtjcH0ge1AyfS0ge3N0cihsb29wKX0ve2xlbihpZDIpfSIpDQoJCQkgICAgcHJvZy5hZHZhbmNlKGRlcykNCgkJCWVsc2U6DQoJCQkJY29udGludWUNCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJdGltZS5zbGVlcCgzMSkNCglsb29wKz0xDQoNCg0KIyMjLS0tLS0tLS0tLVsgQ0VLIExJU0VOU0kgXS0tLS0tLS0tLS0gIyMjDQpkZWYga2V5KCk6DQoJb3Muc3lzdGVtKCJjbGVhciIpO0l5YWhfQmFuZ19fQWt1X1JlY29kZV9fU2NfX0ZhbGxfX1VjYXBfX1NpX19TYXJrYXNfX0hhaGEoKTtrZXkgPSBpbnB1dChmIiB7S30je1B9IG1hc3VrYW4gbGlzZW5zaSA6IHtIfSIpDQoJdHJ5OnNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKTthc3UgPSBzZXMuZ2V0KCJodHRwczovL2FwcC5jcnlwdG9sZW5zLmlvL2FwaS9rZXkvQWN0aXZhdGU/dG9rZW49PT0mUHJvZHVjdElkPTE4NDc4JktleT0lcyZTaWduPVRydWUiJShrZXkpKS5qc29uKClbJ2xpY2Vuc2VLZXknXVsna2V5J107b3BlbigiZGF0YS9saXNlbnNpLnR4dCIsInciKS53cml0ZShrZXkpO01pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1zZWxhbWF0IGxpc2Vuc2kgeWFuZyBhbmRhIG1hc3VrYW4gdGVyZGFmdGFyIGtlIHNlcnZlciBGYWNlYm9vayBNQkYiLHdpZHRoPTgwLHBhZGRpbmc9KDAsNiksc3R5bGU9ZiJ7Y29sb3JfdGFibGV9IikpO3RpbWUuc2xlZXAoNCk7bWVudSgpDQoJZXhjZXB0IEtleUVycm9yOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9bGlzZW5zaSBrYW11IHN1ZGFoIGtlZGFsdXdhcnNhIHNpbGFoa2FuIGJlbGkgbGlzZW5zaSBrZSBhZG1pbiIsd2lkdGg9ODAscGFkZGluZz0oMCw2KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSk7b3Muc3lzdGVtKCJybSAtcmYgZGF0YS9saXNlbnNpLnR4dCIpO29zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rNjI4MTIyMTUyMzE5NT90ZXh0PWFzc2FsYW11YWxhaWt1bStiYW5nK21hdStiZWxpK2xpc2Vuc2krY3JhY2srRmFjZWJvb2sgTUJGIik7dGltZS5zbGVlcCgyKTtleGl0KCkNCg0KIyMjLS0tLS0tLS0tLVsgQ0VLIExJU0VOU0kgXS0tLS0tLS0tLS0gIyMjDQpkZWYgY2VrKCk6DQoJdHJ5Ong9b3BlbigiZGF0YS9saXNlbnNpLnR4dCIsInIiKS5yZWFkKCkNCglleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6a2V5KCkNCgl0cnk6eCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9hcHAuY3J5cHRvbGVucy5pby9hcGkva2V5L0FjdGl2YXRlP3Rva2VuPVd5SXpOVFEyT1RFeU1pSXNJbnBKZW1SWVZXUjJRU3RJU2tnNVpYcE1SeXRJV1dzM1ZrUndTRU52Vnk5RVFtOUxSR3hvU0ZVaVhRPT0mUHJvZHVjdElkPTE4NDc4JktleT0lcyIlKHgpKS5qc29uKClbJ2xpY2Vuc2VLZXknXVsna2V5J107bWVudSgpDQoJZXhjZXB0IEtleUVycm9yOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9bGlzZW5zaSBrYW11IHN1ZGFoIGtlZGFsdXdhcnNhIHNpbGFoa2FuIGJlbGkgbGlzZW5zaSBrZSBhZG1pbiIsd2lkdGg9ODAscGFkZGluZz0oMCw2KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSk7b3Muc3lzdGVtKCJybSAtcmYgZGF0YS9saXNlbnNpLnR4dCIpO29zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rNjI4MTIyMTUyMzE5NT90ZXh0PWFzc2FsYW11YWxhaWt1bStiYW5nK21hdStiZWxpK2xpc2Vuc2krY3JhY2srRmFjZWJvb2sgTUJGIik7dGltZS5zbGVlcCgyKTtleGl0KCkNCg0KIyMjLS0tLS0tLS0tLVsgTUFTVUsgTElTRU5TSSBdLS0tLS0tLS0tLSAjIyMNCmRlZiBrZXkoKToNCglvcy5zeXN0ZW0oImNsZWFyIikgDQoJSXlhaF9CYW5nX19Ba3VfUmVjb2RlX19TY19fRmFsbF9fVWNhcF9fU2lfX1Nhcmthc19fSGFoYSgpDQoJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfXNpbGFoa2FuIG1hc3VrYW4gbGlzZW5zaSB0b29scyBhZ2FyIGJpc2EgbWFzdWsga2UgdG9vbHMgTUJGXG5qaWthIGFuZGEgYmVsdW0gbWVtcHVueWFpIGxpc2Vuc2kga2V0aWsge0gyfWJlbGkge1AyfXVudHVrIG1lbGloYXQgaGFyZ2EgbGlzZW5zaSIsd2lkdGg9ODAscGFkZGluZz0oMCwyKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCglrZXkgPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKJ7UDJ9IG1hc3VrYW4gbGlzZW5zaSA6ICIpDQoJaWYga2V5IGluIFsiYmVsaSIsIkJlbGkiLCJCRUxJIl06YmVsaV9iYW5nKCkNCgl0cnk6c2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpO2FzdSA9IHNlcy5nZXQoImh0dHBzOi8vYXBwLmNyeXB0b2xlbnMuaW8vYXBpL2tleS9BY3RpdmF0ZT90b2tlbj1XeUl6TlRRMk9URXlNaUlzSW5wSmVtUllWV1IyUVN0SVNrZzVaWHBNUnl0SVdXczNWa1J3U0VOdlZ5OUVRbTlMUkd4b1NGVWlYUT09JlByb2R1Y3RJZD0xODQ3OCZLZXk9JXMmU2lnbj1UcnVlIiUoa2V5KSkuanNvbigpWydsaWNlbnNlS2V5J11bJ2tleSddO29wZW4oImRhdGEvbGlzZW5zaS50eHQiLCJ3Iikud3JpdGUoa2V5KTtNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7SDJ9c2VsYW1hdCBsaXNlbnNpIHlhbmcgYW5kYSBtYXN1a2FuIHRlcmRhZnRhciBrZSBzZXJ2ZXIgTUJGIix3aWR0aD04MCxwYWRkaW5nPSgwLDkpLHN0eWxlPWYie2NvbG9yX3RhYmxlfSIpKTt0aW1lLnNsZWVwKDMpO21lbnUoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJTWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKFBhbmVsKGYie1AyfSBsaXNlbnNpIHlhbmcgYW5kYSBtYXN1a2FuIHRpZGFrIHRlcmRhZnRhciBzaWxhaGthbiBiZWxpIHRlcmxlYmloIGRhaHVsdSIsd2lkdGg9ODAscGFkZGluZz0oMCwxKSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSk7b3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3dhLm1lLys2MjgxMjIxNTIzMTk1P3RleHQ9YXNzYWxhbXVhbGFpa3VtK2JhbmcrbWF1K2JlbGkrbGlzZW5zaStjcmFjaytGYWNlYm9vayBNQkYiKTt0aW1lLnNsZWVwKDIpO2V4aXQoKQ0KDQojIyMtLS0tLS0tLS0tWyBDRUsgTElTRU5TSSBdLS0tLS0tLS0tLSAjIyMJCQkJDQpkZWYgY2VrKCk6DQoJdHJ5Ong9b3BlbigiZGF0YS9saXNlbnNpLnR4dCIsInIiKS5yZWFkKCkNCglleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6a2V5KCkNCgl0cnk6eCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9hcHAuY3J5cHRvbGVucy5pby9hcGkva2V5L0FjdGl2YXRlP3Rva2VuPVd5SXpOVFEyT1RFeU1pSXNJbnBKZW1SWVZXUjJRU3RJU2tnNVpYcE1SeXRJV1dzM1ZrUndTRU52Vnk5RVFtOUxSR3hvU0ZVaVhRPT0mUHJvZHVjdElkPTE4NDc4JktleT0lcyIlKHgpKS5qc29uKClbJ2xpY2Vuc2VLZXknXVsna2V5J107bWVudSgpDQoJZXhjZXB0IEtleUVycm9yOg0KCQlNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoUGFuZWwoZiJ7UDJ9bGlzZW5zaSBrYW11IHN1ZGFoIGtlZGFsdXdhcnNhIHNpbGFoa2FuIGJlbGkgbGlzZW5zaSBrZSBhZG1pbiIsd2lkdGg9ODAscGFkZGluZz0oMCw2KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSk7b3Muc3lzdGVtKCJybSAtcmYgZGF0YS9saXNlbnNpLnR4dCIpO29zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93YS5tZS8rNjI4MTIyMTUyMzE5NT90ZXh0PWFzc2FsYW11YWxhaWt1bStiYW5nK21hdStiZWxpK2xpc2Vuc2krY3JhY2srRmFjZWJvb2sgTUJGIik7dGltZS5zbGVlcCgyKTtleGl0KCkNCg0KIyMjLS0tLS0tLS0tLVsgQlVZIExJU0VOU0kgXS0tLS0tLS0tLS0gIyMjCQ0KZGVmIGJlbGlfYmFuZygpOg0KICAgIE1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhQYW5lbChmIntQMn1be0gyfTAxe1AyfV0uIDEgbWluZ2d1IHtIMn01MC4wMDAge1AyfW1heCBwZW1ha2FpYW4gMSBkZXZpY2VcbntQMn1be0gyfTAye1AyfV0uIDEgYnVsYW4ge0gyfTEwMC4wMDB7UDJ9IG1heCBwZW1ha2FpYW4gNSBkZXZpY2VcbntQMn1be0gyfTAze1AyfV0uIG9wZW4gc291cmNlIGZ1bGwgdXBkYXRlIHtIMn0yMDAuMDAwIix3aWR0aD04MCxwYWRkaW5nPSgwLDE1KSxzdHlsZT1mIntjb2xvcl90YWJsZX0iKSkNCiAgICB6eGMgPSBjb25zb2xlLmlucHV0KGYiIHtIMn3igKJ7UDJ9IHBpbGloIGxpc2Vuc2kgOiAiKQ0KICAgIGlmIHp4YyBpbiBbIiJdOk1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBwaWxpaCB5YW5nIGJlbmVyIGJyb28gamFuZ2FuIGtvc29uZyIpO3RpbWUuc2xlZXAoMyk7Y2VrX2xpc2Vuc2lfYWt0aWYoKQ0KICAgIGVsaWYgenhjIGluIFsiMSIsIjAxIl06TWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGFuZGEgYWthbiBkaSBhcmFoa2FuIGtlIFdoYXRzQXBwIik7b3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3dhLm1lLys2MjgxMjIxNTIzMTk1P3RleHQ9YXNzYWxhbXVhbGFpa3VtK2JhbmcrbWF1K2JlbGkrbGlzZW5zaStmYWNlYm9vaysxK21pbmdndSIpO3RpbWUuc2xlZXAoMik7ZXhpdCgpDQogICAgZWxpZiB6eGMgaW4gWyIyIiwiMDIiXTpNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gYW5kYSBha2FuIGRpIGFyYWhrYW4ga2UgV2hhdHNBcHAiKTtvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd2EubWUvKzYyODEyMjE1MjMxOTU/dGV4dD1hc3NhbGFtdWFsYWlrdW0rYmFuZyttYXUrYmVsaStsaXNlbnNpK2ZhY2Vib29rKzErYnVsYW4iKTt0aW1lLnNsZWVwKDIpO2V4aXQoKQ0KICAgIGVsaWYgenhjIGluIFsiMyIsIjAzIl06TWluaW1hbF9fSmFuZ2FuX19GaXRuYWhfX1lhX19CYW5nKGYiIHtIMn3igKJ7UDJ9IGFuZGEgYWthbiBkaSBhcmFoa2FuIGtlIFdoYXRzQXBwIik7b3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3dhLm1lLys2MjgxMjIxNTIzMTk1P3RleHQ9YXNzYWxhbXVhbGFpa3VtK2JhbmcrbWF1K2JlbGkrbGlzZW5zaStmYWNlYm9vaytmdWxsK3NvdXJjZSIpO3RpbWUuc2xlZXAoMik7ZXhpdCgpDQogICAgZWxzZTpNaW5pbWFsX19KYW5nYW5fX0ZpdG5haF9fWWFfX0JhbmcoZiIge0gyfeKAontQMn0gbmdldGlrIGFwYWFuIGx1IG5nYWIiKTt0aW1lLnNsZWVwKDMpO2Nla19saXNlbnNpX2FrdGlmKCkNCg0KIyMjLS0tLS0tLS0tLVsgQ0VLIExJU0VOU0kgQUtUSUYgXS0tLS0tLS0tLS0gIyMjDQpkZWYgY2VrX2xpc2Vuc2lfYWt0aWYoKToNCgl0cnk6eHogPSBvcGVuKCJkYXRhL2xpc2Vuc2kudHh0IiwiciIpLnJlYWQoKQ0KCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjprZXkoKQ0KCW9zLnN5c3RlbSgiY2xlYXIiKTtjZWsoKQ0KDQojIyMtLS0tLS0tLS0tWyBBVVRPIENSRUFURSBGT0xERVIgXS0tLS0tLS0tLS0gIyMjDQpkZWYgQXV0b0ZvbGRlcigpOg0KICAgIHRyeTpvcy5ta2RpcigiT0siKQ0KICAgIGV4Y2VwdDpwYXNzDQogICAgdHJ5Om9zLm1rZGlyKCJDUCIpDQogICAgZXhjZXB0OnBhc3MNCiAgICB0cnk6b3MubWtkaXIoImRhdGEiKQ0KICAgIGV4Y2VwdDpwYXNzDQogICAgdHJ5Om9zLm1rZGlyKCJhc3NldHMiKQ0KICAgIGV4Y2VwdDpwYXNzDQoNCiMjIy0tLS0tLS0tLS1bIFBFTUFOR0dJTCBdLS0tLS0tLS0tLSAjIyMNCmlmIF9fbmFtZV9fPT0nX19tYWluX18nOg0KICB0cnk6DQogICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXM6DQogICAgICAgICAgIG9zLnN5c3RlbSgiZ2l0IHB1bGwiKQ0KICAgICAgICAgICBBdXRvRm9sZGVyKCk7bWVudSgpDQogIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgIE1pbmltYWxfX0phbmdhbl9fRml0bmFoX19ZYV9fQmFuZyhmIiB7SDJ94oCie1AyfSBrb25la3NpIGludGVybmV0IGFuZGEgYmVybWFzYWxhaCIpDQogICAgICB0aW1lLnNsZWVwKDMpO2V4aXQoKQ=='))